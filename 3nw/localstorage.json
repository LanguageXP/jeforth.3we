{"3nw working on simpleMDE":"{\"doc\":\"\\n[x] Now ^2016-05-06 14:29:46 developing SimpleMDE on 3nw \\n[x] pickFile can work on 3htm, 3nw, 3hta but only 3hta gets the pathname string, \\n    others are \\\"\\\" due to security restrictions I believe. Is there a workaround?\\n    [x] try answers on Stackoverflow.com \\n    1. http://jsfiddle.net/dwebexperts/4FGg8/1/\\n       http://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav\\n       Introduces a temp_path , which is interesting but not good enough for my MDE because\\n       [Save] button needs the real pathname.\\n\\n-----------------\\n\\n\\\\ Word does not work, mde-include not ok yet, but interpret mode works fine\\n\\n\\n.( Include SimpleMDE.js )\\n\\n\\tjs> typeof(SimpleMDE)!=\\\"function\\\" [if]\\n\\t\\t<h>\\n\\t\\t<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> \\n\\t\\t<script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script>\\n\\t\\t</h> drop \\n\\t[then]\\n\\tfalse ( assume include failed )  \\n\\t30 ( seconds ) [for] \\n\\t\\tjs> typeof(SimpleMDE)==\\\"function\\\" [if] \\n\\t\\t\\tr> drop 0 >r \\\\ break the loop\\n\\t\\t\\tdrop true ( include OK )\\n\\t\\t[else] \\n\\t\\t\\t20 nap .\\\" .\\\" \\\\ wait a while\\n\\t\\t[then] \\n\\t[next] \\n\\t[if] .\\\"  Done. \\\" [else] .\\\"  Error! Failed to include SimpleMDE! [then] cr\\n\\n.( Create the required textarea for SimpleMDE ) cr\\n\\n    <o> <textarea id=simplemde ></textarea></o> \\n    js> $(\\\".console3we\\\")[0] insertBefore\\n\\n.( Launch SimpleMDE on the above textarea ) cr\\n\\n    <js> \\n    var simplemde = new SimpleMDE({element: document.getElementById(\\\"simplemde\\\")}); \\n    simplemde \\n    </jsV> \\n    constant simplemde\\n\\n.( Load README.md ) cr\\n\\n    char README.md readTextFile\\n    simplemde :: value(pop())\\n\\t\\n\\\\ Above interpret procedure works fine.\\n\\n\\n\\\\ [x] mde ( <pathname> -- ) \\\\ open Markdown editor \\n\\n: mde-include ( -- ok? ) \\\\ Inclde MDE editor \\n\\tjs> typeof(SimpleMDE)!=\\\"function\\\" if\\n\\t\\t<h>\\n\\t\\t<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> \\n\\t\\t<script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script>\\n\\t\\t</h> drop \\n\\tthen\\n\\tfalse ( assume include failed )  \\n\\t30 ( seconds ) for \\n\\t\\tjs> typeof(SimpleMDE)==\\\"function\\\" if \\n\\t\\t\\tr> drop 0 >r \\\\ break the loop\\n\\t\\t\\tdrop true ( include OK )\\n\\t\\telse \\n\\t\\t\\t1000 nap \\\\ wait a while\\n\\t\\tthen \\n\\tnext ;\\n\\n\\\\ execute the word does not work. But run on interpret mode always ok. Why?\\n\\\\ Even when it's not work, check the elements of link and script, they are existing:\\n\\tjs> $(\\\"head\\\")[0] ce! ce 09 ce@ :> outerHTML .\\n\\tjs> $(\\\"head\\\")[0] ce! ce 10 ce@ :> outerHTML .\\n\\nstop \\n---------------\\n[x] 所有在 .console3we 範圍內的 textarea 都會在 F2 edit mode focused 時變成粉紅色。 ed 的亦然。\\n    把 ed 移出 .console3we 之外 (而非光 outputbox 之外) 就會失去所有的 .console3we style. 如下,\\n    > js> $(\\\".eb\\\")[0] js> $(\\\".console3we\\\")[0] insertBefore\\n    ==> 所以, SimpleMDE init textarea 要移出 .console3we 之上才行. \\n[x] Go on use the knowledge to fine tune 3we's style settings.\\n    --> study common.css first \\n    --> but I already use .console3we to constraint the range!\\n    ==> 所以, SimpleMDE init textarea 要移出 .console3we 之上才行. \\n\\n\\\\ ^^2016-05-04 11:57:32^^ \\n\\\\ (@ 3nw) 改照抄 official demo page 上的 resource 也行, 但是問題還是一樣。\\n\\\\ 可見是 jeforth 的 style 造成的問題。 \\n\\\\ [x] 下一步, 3nw 的 style 反璞歸真, 或限制範圍。 ==> Bingo!! See Ynote \\n\\\\     \\\"SimpleMDE works fine on jeforth.3nw now\\\" \\n\\n\\n\\\\ Include SimpleMDE\\n\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> \\n    < script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script>\\n    </h> drop\\n    js> typeof(SimpleMDE) tib. \\\\ ==> function (string) so it has been installed\\n\\n\\\\ Create a textarea\\n\\n    <o> <textarea id=simplemde ></textarea></o> \\n    js> $(\\\".console3we\\\")[0] insertBefore\\n\\n\\\\ Launch SimpleMDE on the above textarea\\n\\n    <js> \\n    var simplemde = new SimpleMDE({element: document.getElementById(\\\"simplemde\\\")}); \\n    simplemde \\n    </jsV> \\n    constant simplemde\\n\\n\\\\ Test, set the content\\n\\n    simplemde <js> pop().value(\\\"This text will appear in the editor\\\"); </js>\\n\\n\\\\ Test, get the content\\n\\n    simplemde :> value() \\\\ ==> # This text will appear in the editor (string)\\n\\n-----------------------------\\nStudy https://simplemde.com/ so as to copy the usage\\n\\n\\\\ 瞧瞧 body\\n   > js> $(\\\"body\\\")[0] ce! ce\\n    [object HTMLBodyElement] innerHTML=<section class=\\\"page-header\\\"> <h1 class=\\\"project-name\\\">SimpleMDE ...\\n    0 : [object HTMLElement] class='page-header'; innerHTML= <h1 class=\\\"project-name\\\">SimpleMDE Markdown Edi...\\n    1 : [object HTMLElement] class='main-content'; innerHTML= <h1><a id=\\\"h1_demo1\\\" class=\\\"anchor\\\" href=\\\"#h1_...\\n    2 : [object HTMLLinkElement] \\n    3 : [object HTMLLinkElement] \\n    4 : [object HTMLScriptElement] \\n    5 : [object HTMLScriptElement] innerHTML= new SimpleMDE({ element: document.getElementById(\\\"demo1\\\"), spe...\\n    6 : [object HTMLScriptElement] innerHTML= (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r...\\n    7 : [object HTMLDivElement] class='console3we'; innerHTML= <style> .console3we { color:black; word-wrap:...\\n\\n\\\\ 瞧瞧 header\\n   > js> $(\\\"body\\\")[0] ce! ce\\n    [object HTMLHeadElement] innerHTML=<meta charset=\\\"UTF-8\\\"><title>JavaScript Markdown Editor - SimpleM...\\n    0 : [object HTMLMetaElement] \\n    1 : [object HTMLTitleElement] innerHTML=JavaScript Markdown Editor - SimpleMDE...\\n    2 : [object HTMLMetaElement] name='viewport'; \\n    3 : [object HTMLLinkElement] \\n    4 : [object HTMLLinkElement] \\n    5 : [object HTMLLinkElement] \\n    6 : [object HTMLLinkElement] \\n    7 : [object HTMLLinkElement] \\n    8 : [object HTMLScriptElement] <=========== 這裡面是空的\\n    9 : [object HTMLScriptElement] innerHTML= if(window.location.href.indexOf(\\\"nextstepwebs.github.io\\\") !== ...\\n   10 : [object HTMLStyleElement] innerHTML= .editor-preview h1, .editor-preview h2, .editor-preview h3, .ed...\\n   11 : [object HTMLStyleElement] id='style-1-cropbar-clipper'; innerHTML=/* Copyright 2014 Evernote Corpora...\\n   12 : [object HTMLStyleElement] innerHTML= .tr table, .tr td { border:0.075em solid gray; } ...\\n\\n   \\\\ ce 8 ce@ :> outerHTML 看來好像在修整網址, 總之 SimpleMDE 不是在 header 裡 include 的。\\n    <script>\\n    if(window.location.href.indexOf(\\\"nextstepwebs.github.io\\\") !== -1) {\\n        window.location.href = \\\"https://simplemde.com/\\\";\\n    }\\n    \\n    if(window.location.protocol != \\\"https:\\\")\\n        window.location.href = \\\"https:\\\"+window.location.href.substring(window.location.protocol.length);\\n    </script> OK \\n\\n\\\\ Now look into the source code of the demo page\\n\\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 2 ce@ :> outerHTML .\\n[object HTMLLinkElement] \\n<link rel=\\\"stylesheet\\\" href=\\\"https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css\\\"> OK \\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 3 ce@ :> outerHTML .\\n[object HTMLLinkElement] \\n<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> OK \\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 4 ce@ :> outerHTML .\\n[object HTMLScriptElement] \\n<script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script> OK \\n\\n> cls js> $(\\\"body\\\")[0] ce! ce 5 ce@ :> outerHTML .\\n[object HTMLScriptElement] innerHTML= new SimpleMDE({ element: document.getElementById(\\\"demo1\\\"), spe...\\n    0 : [object Text]  new SimpleMDE({ element: document.getElementById(\\\"demo1\\\"), spellChecker: false, }); n...\\n<script>\\n    new SimpleMDE({\\n        element: document.getElementById(\\\"demo1\\\"),\\n        spellChecker: false,\\n    });\\n    \\n    new SimpleMDE({\\n        element: document.getElementById(\\\"demo2\\\"),\\n        spellChecker: false,\\n        autosave: {\\n            enabled: true,\\n            unique_id: \\\"demo2\\\",\\n        },\\n    });\\n    \\n    new SimpleMDE({\\n        element: document.getElementById(\\\"demo3\\\"),\\n        status: false,\\n        toolbar: false,\\n    });\\n    </script> OK \\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 6 ce@ :> outerHTML .\\n[object HTMLScriptElement] innerHTML= (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r...\\n    0 : [object Text]  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=...\\n<script>\\n      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\\n      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\\n      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\\n    \\n      ga('create', 'UA-5808021-18', 'auto');\\n      ga('send', 'pageview');\\n    \\n    </script> OK \\n\\n\\n-----------------------\\n[!] Try 3htm with localhost , the Error is : \\\"require is not defined\\\"\\n    (1) Run local host : webserver.bat\\n    (2) Run jeforth.3htm through http://localhost:8888 or http://localhost:8888/index.html \\n    (3) Run \\n        <h>\\n        <link rel=\\\"stylesheet\\\" href=\\\"http://localhost:8888/src/css/simplemde.css\\\">\\n        <script src=\\\"http://localhost:8888/src/js/simplemde.js\\\"></script>\\n        </h>\\n        ---> JavaScript error on word \\\"doElement\\\" : require is not defined\\n[!] jeforth.3ce can not do this: (Due to Content Security Policy violation)\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"http://localhost:8888/src/css/simplemde.css\\\">\\n    < script src=\\\"http://localhost:8888/src/js/simplemde.js\\\"></script>\\n    </h>\\n    \\\\s\\n    jquery-1.11.2.js:9831 Refused to load the script \\n    'http://localhost:8888/src/js/simplemde.js?_=1462251960943' \\n    because it violates the following Content Security Policy directive: \\n    \\\"script-src 'self' 'unsafe-eval'\\\".\\n    \\\\s\\n    \\\\ webserver.bat cd root at c:\\\\program files\\\\nodejs\\\\node_modules\\\\simplemde\\n    char http://localhost:8888/src/js/simplemde.js readTextFile . \\\\ ==> works fine\\n[!] Try super chrome \\n    --> worse then jeforth.3htm through http://localhost:8888 \\n[x] Trying to include but failed.\\n    char ../simplemde-markdown-editor/src/css/simplemde.css readTextFile .\\n    char ../simplemde-markdown-editor/src/js/simplemde.js  readTextFile .\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"../simplemde-markdown-editor/src/css/simplemde.css\\\">\\n    < script src=\\\"../simplemde-markdown-editor/src/js/simplemde.js\\\"></script>\\n    </h>\\n    --> (on 3HTA) 'require' not defined ==> So, try 3nw !!\\n    --> and JavaScript error on word \\\"doElement\\\" : 發生錯誤，無法完成操作 80020101。\\n    --> try 3nw, but: JavaScript error on word \\\"doElement\\\" : Cannot find module 'codemirror'\\n    --> So, let's, as homepage said, use npm install. I am using 3nw anyway.\\n        --> See ^> 2016-05-03 00:07:17 error message\\n            C:\\\\Users\\\\hcche\\\\Documents\\\\GitHub> npm install simplemde --save\\n            Failed again, npm install wants to use 'git' but which is unknown unless in a \\n            gitShell that I can open through GitHub I guess.\\n        --> Yes! GitShell is better, on installating now, stop at load codemirror\\n            seems working ... I thought it's dead but now continoued. Wow, what a huge\\n            installation. ok!\\n    [x] I run the install from C:\\\\Users\\\\hcche\\\\Documents\\\\GitHub> is not good.\\n        The result is a 10MByte size of mudules! at \\n            c:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\node_modules <-- all dated 5/3'16 which is today\\n        I should move it to : \\\"c:\\\\Program Files\\\\nodejs\\\\node_modules\\\" <--- all done.\\n        * Should run npm install at c:\\\\Program Files\\\\nodejs>  ... <== wrong! still failed.\\n    [x] (@ Home) 10M of modules installed. What's next? Ah! all the modules are for server side.\\n        See examples on http://simplemde.com and think.\\n    [x] (@ T550) * Should run npm install at c:\\\\Program Files\\\\nodejs>  ... <== wrong! still failed.\\n        c:\\\\Program Files\\\\nodejs and sub-directories are not write-able, I guess. Because\\n        tried to do the install at ~\\\\downloads\\\\simplemde then OK! See ^> 2016-05-03 09:28:01\\n    [x] Holyshit! Totally different result from ^> 2016-05-03 09:28:01 !!!\\n        我想要把所有的 node_modules 都集中到 c:\\\\Program Files\\\\nodejs\\\\node_modules\\\\ 也是錯誤觀念。\\n        SimpleMDE 的 node_modules 就放在自己個別的目錄下。\\n[x] I should reinstall Node.js and NW.js at home? Because installing SimpleMDE has totally\\n    messed up the node_modules folder.\\n    --> ok at home. \\n[x] @ T550 after installed SimpleMDE by npm, Also have made NODE_PATH env correctly points\\n    to c:\\\\Program Files\\\\nodejs\\\\node_modules run 3nw.bat and try . . . \\n    s\\\" c:\\\\Program Files\\\\nodejs\\\\node_modules\\\\simplemde\\\\src\\\\css\\\\simplemde.css\\\" readTextFile .\\n    s\\\" c:\\\\Program Files\\\\nodejs\\\\node_modules\\\\simplemde\\\\src\\\\js\\\\simplemde.js\\\" readTextFile .\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"c:/Program Files/nodejs/node_modules/simplemde/src/css/simplemde.css\\\">\\n    < script src=\\\"c:/Program Files/nodejs/node_modules/simplemde/src/js/simplemde.js\\\"></script>\\n    </h>\\n    --> Now I realized that dealing with npm is needed for Web Server side only\\n[x] (@ 3nw) require('codemirror') not found, add %NODEJSHOME%\\\\node_modules\\\\simplemde\\\\node_modules\\n    to NODE_PATH as below can resolve this.\\n    ---- 3nw.bat ----\\n    if a%COMPUTERNAME%==aWKS-38EN3476     set NODEJSHOME=C:\\\\Program Files\\\\nodejs\\n    if a%COMPUTERNAME%==aWKS-4AEN0404     set NODEJSHOME=C:\\\\Program Files\\\\nodejs\\n    set NODE_PATH=%NODEJSHOME%\\\\node_modules;%NODEJSHOME%\\\\node_modules\\\\simplemde\\\\node_modules\\n    start nw ../jeforth.3we %1 %2 %3 %4 %5 %6 %7 %8 %9\\n    -----------------\\n[x] (@ 3nw) But after resolved require('codemirror') not found, new problem appear: \\n    JavaScript error on word \\\"doElement\\\" : navigator is not defined\\n    --> js> navigator \\\\ ==> [object Navigator] (object) 明明 3nw 有啊!\\n        js> window.navigator \\\\ ==> [object Navigator] (object) \\n    --> 從 simplemde.js 裡查出是 require(\\\"codemirror\\\") 出錯\\n        console.log(111);debugger; // @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\\n        var CodeMirror = require(\\\"codemirror\\\");\\n        console.log(222);debugger; // @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\\n    --> Only server side needs to deal with npm things.\\n[x] (@ 3htm localhost ) 算了, 直接用 BootCDN include 看看: <---- Yes, correct way!! I don't \\n    need to deal with server side issues.\\n    <h>\\n    < link href=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.css\\\" rel=\\\"stylesheet\\\">\\n    < script src=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.js\\\"></script>\\n    </h>\\n    --> cls <js> typeof SimpleMDE </jsV> \\\\ ==> function (string)\\n        It works !!  \\n    --> So, how about 3hta 不成功. 3htm on localhost and 3nw works with the below method.\\n[x] 3htm on localhost installed ok, so go on using it . . . \\n    See http://simplemde.com --> Bingo!! it works now. But appearance has something wrong\\n    that needs fine tuning.\\n\\n\\\\ 以下 3htm 3nw OK, 3hta 有掛上 simplemde 但是沒有效果。\\n\\\\ Include SimpleMDE\\n\\n    <h>\\n    < link href=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.css\\\" rel=\\\"stylesheet\\\">\\n    < script src=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.js\\\"></script>\\n    </h> drop\\n    js> typeof(SimpleMDE) tib. \\\\ ==> function (string) so it has been installed\\n\\n\\\\ Create a textarea\\n\\n    cls <o> <textarea id=simplemde ></textarea></o> js> outputbox insertBefore\\n\\n\\\\ Launch SimpleMDE on the above textarea\\n\\n    <js> \\n    var simplemde = new SimpleMDE({element: document.getElementById(\\\"simplemde\\\")}); \\n    simplemde \\n    </jsV> \\n    constant simplemde\\n\\n\\\\ Test, set the content\\n\\n    simplemde <js> pop().value(\\\"This text will appear in the editor\\\"); </js>\\n\\n\\\\ Test, get the content\\n\\n    simplemde :> value() \\\\ ==> # This text will appear in the editor (string)\\n\\n[x] 不要用 bootCDN 改用別家的試試看... Same problem, see <^2016-05-04 11:57:32\\n\\nstop\\njs> vm.appname==\\\"jeforth.3hta\\\" [if] char js/numeric-1.2.6.js\\n[else] char http://www.numericjs.com/lib/numeric-1.2.6.js [then]\\nreadTextFile \\\\ 先讀取 .js 檔, 但不能直接用\\n<text> \\nwindow.numeric = numeric;  // 先對 source 做一點必要的加工, 把 numeric 掛上 global \\n</text> + </js> \\\\ 然後才執行\\t\\n-------------\\n2016-05-03 00:07:17 error message\\n\\t\\tc:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\jeforth.3we>npm install simplemde --save\\n\\t\\tnpm ERR! git clone --template=C:\\\\Users\\\\hcche\\\\AppData\\\\Roaming\\\\npm-cache\\\\_git-remotes\\\\_templates ...\\n\\t\\tc:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\jeforth.3we>git\\n\\t\\t'git' 不是內部或外部命令、可執行的程式或批次檔。\\n\\n^^^^^ 2016-05-03 09:28:01 ^^^^^^^^^^^\\nC:\\\\users\\\\hcche\\\\Downloads> cd .\\\\simplemde\\nC:\\\\users\\\\hcche\\\\Downloads\\\\simplemde> npm install simplemde --save\\nnpm WARN deprecated gulp-minify-css@1.2.4: Please use gulp-clean-css\\nnpm WARN deprecated graceful-fs@3.0.8: graceful-fs v3.0.0 and before will fail on node releases >= v6.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\\nnpm WARN deprecated lodash@1.0.2: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0.\\nnpm WARN deprecated graceful-fs@1.2.3: graceful-fs v3.0.0 and before will fail on node releases >= v6.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\\nsimplemde@1.10.1 node_modules\\\\simplemde\\n├── marked@0.3.5\\n├── codemirror@5.14.3\\n└── codemirror-spell-checker@1.0.6 (gulp-minify-css@1.2.4, gulp-header@1.7.1, gulp-concat@2.6.0, gulp-uglify@1.5.3, gulp@3.9.1)\\nC:\\\\users\\\\hcche\\\\Downloads\\\\simplemde>\\n\\nNote! The result is totally different to what happened last night at home.\\nSee Ynote \\\"SimpleMDE Install\\\" for pictures of the correct results.\\n\\n-------------------\\n\\n \\n\\n \",\"mode\":true,\"readonly\":false}","Play flot on 3nw":"{\"doc\":\"\\n    \\\\ Flot.js demo GitHub\\\\flot\\\\examples\\\\basic-usage\\\\index.html\\n\\n    \\\\ Prepare the Flot ploting zone\\n\\n    ' flotzone [if] [else]  \\n        <o> <div class=flotzone></div></o> constant flotzone // ( -- DIV ) Place for Flot plotings avoid CSS conflict.\\n        flotzone js> $(\\\".console3we\\\")[0] insertBefore\\n    [then]\\n\\n    \\\\ Include CSS and Flot.js\\n    \\n    js> typeof($.plot)!=\\\"function\\\" [if] \\n        <h> \\n        <--!link id=flotcss href=\\\"../flot/examples/examples.css\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\"-->\\n        <script id=flotjs language=\\\"javascript\\\" type=\\\"text/javascript\\\" src=\\\"../flot/jquery.flot.js\\\"></script>\\n        </h> drop\\n\\n        \\\\ Wait a while, make sure Flot.js is ready\\n        .( $.plot readiness check .)\\n        ( seconds * 1000 / nap ) js> 60*1000/200 [for] \\n            js> typeof($.plot)==\\\"function\\\" [if] \\n                r> drop 0 >r \\\\ break the loop\\n            [else] \\n                200 nap .\\\" .\\\" \\\\ wait a while\\n            [then] \\n        [next] cr\\n    [then]\\n    \\n    \\\\ Demo #1\\n        \\\\ Create the placeholder\\n\\n        flotzone\\n        <o> <div id=\\\"placeholder1\\\" style=\\\"width:600px;height:300px\\\"></div></o> ( placeholer1 )\\n        appendChild\\n\\n        \\\\ Plot a line \\n        \\n        js: $.plot($(\\\"#placeholder1\\\"),[[[0,0],[1,1]]],{yaxis:{max:1}})\\n\\n    \\\\ Demo #2\\n        \\\\ Create the placeholder\\n\\n        flotzone\\n        <o> <div id=\\\"placeholder2\\\" style=\\\"width:600px;height:300px\\\"></div></o> ( placeholer2 )\\n        appendChild\\n\\n        \\\\ Plot some lines\\n        \\n        <js>\\n            $(function() {\\n\\n                var d1 = [];\\n                for (var i = 0; i < 14; i += 0.5) {\\n                    d1.push([i, Math.sin(i)]);\\n                }\\n\\n                var d2 = [[0, 3], [4, 8], [8, 5], [9, 13]];\\n\\n                // A null signifies separate line segments\\n\\n                var d3 = [[0, 12], [7, 12], null, [7, 2.5], [12, 2.5]];\\n\\n                $.plot(\\\"#placeholder2\\\", [ d1, d2, d3 ]);\\n\\n                // Add the Flot version string to the footer\\n\\n                $(\\\"#footer\\\").prepend(\\\"Flot \\\" + $.plot.version + \\\" &ndash; \\\");\\n            });\\n        </js>\\n<comment>\\n[ ] flotzone 目前必須放在 .console3we 之外才行, 希望能放在 outputbox 裡面, 做實驗方便。\\n[/] How to clear inherited CSS style for the flotzone element?\\n    See 3hta local storage field \\\"Study remove CSS style for an element\\\"\\n    --> 不成功, 用 Yahoo CSS reset 也不行。 甚至把 jeforth.3we 本身的 common.css 取消了也不行。\\n[x] 在 outputbox 裡一片白的 flotzone 經 insertBefore 到 .console3we 之上, 還是一片白。\\n[x] 那反過來呢? **在外成功之後** 搬進來如何? --> still failed. But then move out will be ok!\\n    flotzone js> inputbox insertBefore \\\\ failed\\n    flotzone js> header insertBefore   \\\\ ok\\n    js> body flotzone appendChild      \\\\ ok 只要搬出 .console3we 都 ok\\n\\n[ ] 研究如何 dump 整個 style of an element 來查看\\n    js> header.style obj>keys .\\n    js> $(\\\".console3we\\\")[0].style obj>keys .\\n\\n[ ] 用 xjeforth.hta <--- 改過, 試試看到底為何 進 console3we 就不行\\n    --> 上面說本來不行的搬出去也不行, 現在用 xjeforth.hta, 可能是因為經過簡化, 本來在 outputbox 裡不行的\\n        變成搬出去就可以了。\\n    --> 繼續簡化...把 inputbox, outputbox 搬出 .console3we 之外, 終於可以成功地把 flot charts 放進\\n        outputbox 了!\\n[ ] Flot.js 於 style.background 有細微的問題。我報了 bug on Flot.js GitHub Issue : \\n    https://github.com/flot/flot/issues/1497\\n    Or refer to YNote: \\\"Flot bug of graph disappear reproduced. How to fix it\\\"\\n    試圖研究在用到 flot.js 時把 .console3we 的 style 重新定義, 例如把 background 去掉, 就\\n    可以在 outputbox 裡正常運作了。\\n    flotzone js> outputbox insertBefore \\\\ 搬到 outputbox 之前仍在 .console3we 裡複製出問題.\\n    查看 style tags 找到 console3we 的 background\\n    把它改成 transparent 試試看.\\n[x] > js> $(\\\"style\\\").length . \\\\ ==> 4 OK \\n    這 4 個裡面不含 common.css 的定義! 所以我以前就說 inputbox 要變粉紅色得分開弄一個 style 原因\\n    可能就是這個。 \\n\\n    > js> $(\\\"style\\\")[0].outerHTML .\\n    <style type=\\\"text/css\\\">canvas{border:solid 1px #CCC}</style> OK \\n\\n    > js> $(\\\"style\\\")[1].outerHTML .\\n    <style>\\n        .tr table, .tr td { \\n            border:0.075em solid gray; \\n        }\\n    </style> OK \\n\\n    > js> $(\\\"style\\\")[2].outerHTML .\\n    <style id=\\\"styleTextareaFocus\\\" type=\\\"text/css\\\"> \\n        .console3we textarea:focus {\\n            background:#E0E0E0;\\n        }\\n    </style> OK \\n\\n    > js> $(\\\"style\\\")[3].outerHTML .\\n    <style type=\\\"text/css\\\">\\n        .eb .box { width:90%; }\\n        .eb .box, .eb .ebhtmlarea { border:1px solid black; }\\n        .eb p { display:inline; } \\n        .eb .ebname { font-size: 1.1em; }\\n    </style> OK \\n\\n[ ] 蓋過去行不行?\\n    js> $(\\\".console3we\\\").length .\\n\\n\\n</comment>\",\"mode\":true,\"readonly\":false}","Study XMLHttpRequest object 2016-07-06":"{\"doc\":\"[ ] Study how to *write* files to local disk on super-chrome jeforth.3htm\\n    --> 先前有找到過一個例子, 可以把網頁上的 pictures drag-drop 一下就 save 成 local file\\n        Ynote: \\\"jeforth 研究 Chrome extension 存檔到本地 disk 的方法\\\" the thing is \\\"XMLHttpRequest\\\" \\n    --> Study XMLHttpRequest @ http://www.w3school.com.cn/xml/xml_http.asp\\n<js> var x =new XMLHttpRequest(); x </jsV> constant xmlhttp // ( -- obj ) XMLHttpRequest object\\nxmlhttp :: open(\\\"GET\\\",\\\"a.html\\\",true)\\nxmlhttp :: send(null)\\ntry on 3hta ... error : access denied\\ntry on jeforth.3nw --> it works! \\n\\n\\nStudy XMLHttpRequest object \\nhttp://www.w3school.com.cn/xml/xml_http.asp\\n\\n> <js> var x =new XMLHttpRequest(); x </jsV> constant xmlhttp // ( -- obj ) XMLHttpRequest object\\n> xmlhttp . ==> [object XMLHttpRequest] \\\\ this is how it looks like\\n> xmlhttp :: open(\\\"GET\\\",\\\"a.html\\\",true)  \\\\ try to read something from the server, a.html is not existing.\\n> xmlhttp :: send(null) \\\\ arm the instruction.\\n> xmlhttp :> readyState . ==> 4 \\\\ 4 is \\\"loaded\\\" or \\\"complete\\\"\\n> xmlhttp :> status \\\\ ==> 0 (number) \\\\ 0 is \\\"uninitialized\\\", a.html is not existing remember?\\n\\n\\\\ Try again\\n> xmlhttp :: open(\\\"GET\\\",\\\"index.html\\\",true) \\\\ now index.html is jeforth.3htm's main page\\n    \\\\ the 3'rd argument Async = True 表示脚本会在 send() 方法之后继续执行，而不等待来自服务器的响应。\\n> xmlhttp :: send(null)\\n\\n\\\\ 照理說這時候要等 event xmlhttp.onreadystatechange=state_Change_event_handler; \\\\ or false if event not used\\n\\n> xmlhttp :> readyState \\\\ ==> 4 OK \\n> xmlhttp :> status \\\\ ==> 200 (number) \\\\ Bingo!! 200 is OK\\n> xmlhttp :> statusText \\\\ ==> OK (string)\\n> xmlhttp :> responseText \\\\ ==> 真的把檔案讀進來了!! Bingo !! 3nw, 3htm (super_chrome and webserver).\\n    <!DOCTYPE html>\\n    <html>\\n    <head id=head>\\n        <title class=appname>appname</title> \\n        <meta charset=\\\"utf-8\\\" />\\n        <!-- link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"common.css\\\" -->\\n        <!-- 分別定義 textarea:focus 才可以隨時修改，隨 editMode 改變顏色 -->\\n\\n\\\\ 3htm/f/readtextfile.f 裡面用的是 $.get 裡面可能就是用 XMLHttpRequest.\\n\\n> xmlhttp :: open(\\\"POST\\\",\\\"222\\\",false) \\\\ 沒有 error \\n> xmlhttp :: send(\\\"1234bsdfsd\\\") \\\\ 沒有 error 但也沒效果\\n\\n\\\\ 以上 post 無效是 3nw, 3htm(super_chrome) \\n\\\\ --> 改用 3htm + webserver.f 試試看 -- same result :-(\\n\\\\ 我不瞭解 POST command 的真正意義。Server 端應該要有人把收到的 data 存成檔案。\\n\\n[ ] Server 端應該要有人把收到的 data 存成檔案。這就有點麻煩了, 還不如直接用 3nw。\\n    我以前研究過 Web server 端的程式 on 3nd, it's time to review.\\n\",\"mode\":true,\"readonly\":false}","Style for 3nw":"{\"doc\":\"    <o> <h3> Style for 3nw</h3></o> drop\\n    js: outputbox.style.fontSize=\\\"1.5em\\\"\\n    js: inputbox.style.fontSize=\\\"1.5em\\\"\\n    editbox-style <text>\\n    .eb .box { width:90%; font-size:1.1em; /* filename */ } \\n    .eb .box, .eb .ebhtmlarea { border:1px solid black; }\\n    .eb .ebtextarea { font-size:1.2em }\\n    .eb input { font-size:0.7em /* buttons */ }\\n    .eb p { display:inline; }\\n    .eb .ebname { font-size: 1em; } /* field name */\\n    </text> js: $(\\\"#ebstyle\\\")[0].innerHTML=pop() \\\\ 直接修改 ebstyle \\ncr\\n\",\"mode\":true,\"readonly\":false}","ad":"{\"doc\":\"\\n\\\\ Remove all annoying floating ad boxes. 刪除所有惱人的廣告框。\\nactive-tab :> id tabid! <ce>\\nvar divs = document.getElementsByTagName(\\\"div\\\");\\nfor (var i=divs.length-1; i>=0; i--){\\n  if(divs[i].style.position){\\n    divs[i].parentNode.removeChild(divs[i]);\\n  }\\n}\\nfor (var i=divs.length-1; i>=0; i--){\\n  if(parseInt(divs[i].style.width)<600){ // <---- 任意修改\\n    divs[i].parentNode.removeChild(divs[i]);\\n  }\\n}\\n</ce>\\n\",\"readonly\":true,\"mode\":true}","autoexec":"{\"doc\":\"<comment>\\njs: outputbox.style.fontSize=\\\"1.5em\\\"\\njs: inputbox.style.fontSize=\\\"1.5em\\\"\\n</comment>\",\"mode\":true,\"readonly\":false}","log of 3nw":"{\"doc\":\"[x] file input 若被 user cancel 則 sleep 得不到 stopsleeping 在那裏苦等 <--- problem!\\n> <o> <input type=\\\"file\\\" id=\\\"ff\\\" /></o> constant ff\\n> ff :> value . \\\\ ==>  OK it's null string by default\\n> ff :> value . \\\\ after picking a file, it becomes a pathname\\nC:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\chrome-app-samples\\\\tryitnowbutton_small.png OK \\n> ff :> value . \\\\ try again but click cancel, it becomes a null string as anticipated, good!\\n> \\\\ click [cancel] clears ff.value <--- good!!\\n> ff :: onchange=function(){alert(\\\"onchange\\\")} \\\\ Add event handler, it works!\\n> \\\\ click [cancel] does not fire onchange() event unless due to the above reason that has actually been changed.\\n> ff :: oncancel=function(){alert(\\\"onCancel\\\")} <--- click [cancel] does not fire this event at all. But onchange() event got fired sometimes.\\n> ff :: onchange=function(){alert(\\\"onBigChange\\\")} \\\\ Handler can be changed and it works fine.\\n> ff :> oncancel  . \\\\ ==> function (){alert(\\\"onCancel\\\")} OK check, it's there\\n> ff :> onchange . \\\\ ==> function (){alert(\\\"onBigChange\\\")} check, it's there\\n> \\\\ ff :: onabort=function(){alert(\\\"onAbort\\\")} \\\\ ==> Click cancel does not fire this either.\\n> \\\\ ff :> onabort . \\\\ ==> ff :: onabort=function(){alert(\\\"onAbort\\\")}\\n> \\\\ No, click [cancel] does not fire onabort() \\n\\n\\\\ 企圖故意製造 onchange 100% 發生的努力, 失敗了：\\n> ff :> value=\\\"dummy\\\" <--- Not allowed, see err message:\\nJavaScript error : Failed to set the 'value' property on 'HTMLInputElement': \\nThis input element accepts a filename, which may only be programmatically set \\nto the empty string.\\n\\n\\\\ 機會 : 每個 file input 都是新的, 用完馬上 remove 掉, 有機會讓所有的 cancel 都 fire \\n\\\\ onchange() event? --> 一上來馬上 cancel 因為 file.value 都是 null string 沒有變故\\n\\\\ 不會 fire onchange() event. --> 試試為 file.value 給訂初值 --> No way, see:\\n\\\\ 为安全起见，file-upload 元素不允许 HTML 作者或 JavaScript 程序员指定一个默认的文件名。\\n\\nff :> defaultValue \\\\ ==> null string.\\n<o> <input type=\\\"file\\\" id=\\\"ff\\\" defaultValue=\\\"select a file\\\" /></o> constant fff\\nff :: onbeforedeactivate=function(){alert(\\\"beforeDeActivate\\\")} \\\\ <== fire when blur, 不適合.\\n\\nff :: onblur=function(){alert(\\\"onblur\\\")} <-- fired when both clicking [瀏覽] and \\nclick desk top but not clicking [cancel], shit!!!\\n\\n[x] 解決了! 3nw 會 fire oncancel() when [cancel] clicked!! Bingo!!\\nff :: onemptied=function(){type(\\\"onemptied\\\")}\\nff :: onended=function(){type(\\\"onended\\\")}\\nff :: onerror=function(){type(\\\"onerror\\\")}\\nff :: onerrorupdate=function(){type(\\\"onerrorupdate\\\")}\\nff :: onfilterchange=function(){type(\\\"onfilterchange\\\")}\\nff :: onfocus=function(){type(\\\"onfocus\\\")}\\nff :: onfocusin=function(){type(\\\"onfocusin\\\")}\\nff :: onfocusout=function(){type(\\\"onfocusout\\\")}\\nff :: onhelp=function(){type(\\\"onhelp\\\")}\\nff :: oninput=function(){type(\\\"oninput\\\")}\\nff :: onchange=function(){type(\\\"onChange\\\")}\\nff :: oncancel=function(){type(\\\"oncancel\\\")}\\n\\n3hta\\nonfocusin onfocus onfocusout \\nonfocusin onfocus onfocusout\\n\\n3nw\\nonfocus \\nonfocus oncancel\\nonfocus \\nonfocus oncancel\\n\\n[x] Answer to stackoverflow with my finding of oncancel() works!\\n    http://stackoverflow.com/questions/10127492/capturing-cancel-event-on-input-type-file\\n\\n    I have the same question, the solution is surprisingly very \\n    easy ... at least in my case NW.js (Node-Webkit) fires oncancel \\n    event if user click the [cancel] button in the file chooser \\n    dialogue. You use this simple and native way if you're also on \\n    NW.js (process.version is v5.11.0).\\n\\n    I also tried Microsoft HTA on Windows 10, it does not fire the \\n    oncancel event.\\n\\n' --- [if] --- [then] marker --- \\n<o>\\n    <input type=\\\"file\\\" id=\\\"fileDialog\\\" />\\n    <script>\\n    $(function () {\\n        $(\\\"#fileDialog\\\").on(\\\"change\\\", function () {\\n            console.log(\\\"-----\\\");\\n            var files = $(this)[0].files;\\n            for (var i = 0; i < files.length; ++i) {\\n            console.log(\\\"The pathname is:\\\" + files[i].path);\\n            }\\n        });\\n    });\\n    </script>\\n</o>\\n\\n<comment>\\nThe above sample code, modified for jeforth, from \\nhttp://stackoverflow.com/questions/29705135/node-webkit-read-full-path-of-files-from-directory\\nworks fine, very well. No problem at all getting the full pathname on 3nw, but not on 3ce. So, \\nNW.js is really provides super power.\\n\\n\\\\ Works fine on 3nw,\\n> js> $(\\\"#fileDialog\\\").length \\\\ ==> 1 OK \\n> js> $(\\\"#fileDialog\\\")[0].value . \\\\ ==> C:\\\\Users\\\\hcche\\\\Downloads\\\\download OK \\n> js> document.getElementById(\\\"fileDialog\\\") . \\\\ ==> [object HTMLInputElement] OK \\n> js> document.getElementById(\\\"fileDialog\\\").value . \\\\ ==> C:\\\\Users\\\\hcche\\\\Downloads\\\\download OK \\n> pickFile \\n> .s\\n      0:  (string) \\\\ <--- My original pickFile does not work on 3nw. Needs debug.\\n\\n\\\\ On jeforth.3ce, failed as anticipated\\n\\n    > js> document.getElementById(\\\"fileDialog\\\").value .\\n    C:\\\\fakepath\\\\__865.jpg OK   <---- \\\"fakepath\\\" as anticipated.\\n\\n\\\\ Works fine on 3HTA.\\n\\n    > js> document.getElementById(\\\"fileDialog\\\").value .\\n    C:\\\\Users\\\\hcche\\\\Downloads\\\\魏月梅 全民健保核退申請書.PDF OK \\n\\n\\\\ So, pickFile can be improved by this solution from Stackoverflow.\\n\\n: pickFile        ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type char file setAttribute ( element )\\ndup char id char pickfile setAttribute ( element )\\neleBody over appendChild \\\\ 要 append 才有作用。\\n( element ) js> tos().click();tos().value ( element pathname ) ;\\n\\n\\\\ 照上面這個 pickFile 實驗, 還是不行。確定傳回的 pathname 是個 \\\"\\\". 然而手動觀察 element.value 卻是\\n\\\\ 正確的 pathname. [x] 猜想, 最後一行手動看應該會是 expected pathname 無誤。\\n\\n> .s \\n      0: [object HTMLInputElement] (object)  \\\\ backup\\n      1: C:\\\\Users\\\\hcche\\\\Downloads\\\\jeforth.3ce.p4.jpg (string)\\n      2: [object HTMLInputElement] (object)  \\\\ to be removed\\n> removeElement\\n> js> tos(1).value . \\\\ 查看 element 的 value \\nC:\\\\Users\\\\hcche\\\\Downloads\\\\jeforth.3ce.p4.jpg OK \\\\ 竟然是對的。此時 element id 確定已經不存在了。\\n\\n\\n[x] 嘗試手動作最後一行\\n: pickFile        ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type char file setAttribute ( element )\\ndup char id char pickfile setAttribute ( element )\\neleBody over appendChild \\\\ 要 append 才有作用。\\n; \\n\\n\\\\ 果然, 這行一起做, 傳回 \\\"\\\"\\n( element ) js> tos().click();tos().value ( element pathname ) ;\\n\\n\\\\ 手動分開做, 就 OK 了!!\\n( element ) js: tos().click()\\njs> tos().value ( element pathname ) ;\\n\\n[x] click() 之後, 加上一點 nap 看看, --> \\n\\n: pickFile        ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type  char file      setAttribute ( element )\\ndup char class char pick_file setAttribute ( element )\\njs> body over appendChild \\\\ 要 append 才有作用。\\njs: tos().click()  ( element ) \\\\ 回來就表示 user 已經完成操作\\n( seconds * 1000 / nap ) js> 60*1000/200 for ( element )  \\n\\tjs> tos().value if \\n\\t\\tr> drop 0 >r \\\\ break the loop\\n\\telse \\n\\t\\t200 nap .\\\" .\\\" \\\\ wait a while\\n\\tthen \\nnext ( element )  \\njs> tos().value \\\\ 即使 timeout 也不管了  ( element path )  \\nswap removeElement ;   ( path )  \\n\\n\\\\ Ultimate version\\n\\n: pickFile ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\n\\tchar input createElement ( element )\\n\\tdup char type  char file      setAttribute ( element )\\n\\tdup char class char pick_file setAttribute ( element ) \\\\ for debug, clue of the element\\n\\tjs: tos().onchange=function(){execute('stopSleeping')} ( element )\\n\\tjs> body over appendChild \\\\ 要 append 才有作用。 ( element )\\n        js: tos().click() ( element ) \\\\ @ HTA 回來就表示 user 已經完成操作, @ NW.js 則馬上回來。\\n\\t( minutes*60*1000 ) js> 5*60*1000 sleep ( element )\\n\\tjs> tos().value \\\\ 即使 timeout 也不管了  ( element path )  \\n\\tswap removeElement ;   ( path )  \\n\\n: pickFile \\t\\t( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type  char file      setAttribute ( element )\\ndup char class char pick_file setAttribute ( element ) \\\\ for debug, clue of the element\\n\\\\ For none 3hta only, setup the event handler\\njs> vm.appname!=\\\"jeforth.3hta\\\" if\\n\\tjs: tos().onchange=function(){execute('stopSleeping')} ( element ) then\\njs> body over appendChild \\\\ 要 append 才有作用。 ( element )\\njs: tos().click() ( element ) \\\\ @ HTA 回來就表示 user 已經完成操作, @ NW.js 則馬上回來。\\n\\\\ For none 3hta only, wait for the onchange event\\njs> vm.appname!=\\\"jeforth.3hta\\\" if\\n\\t( minutes*60*1000 ) js> 5*60*1000 sleep ( element ) then\\njs> tos().value \\\\ 即使 timeout 也不管了 ( element path )  \\nswap removeElement ; ( path )  \\n/// Works fine on 3hta and 3nw. The dialog works but returns Null string on 3htm \\n/// or C:\\\\fakepath\\\\__865.jpg on 3ce.\\n/// Through excel app's GetOpenFilename method can do the same thing:\\n///     excel.app js> pop().GETopenFILENAME <== with or w/o () both fine\\n/// Excel's GetSaveAsFilename method too.\\n\\n\\n</comment>\\n\\n[x] 3nw's js: storage.save(pathname) and js: storage.restore(pathname) work fine now.\\n[/]  How about 3hta? <--- 3hta works fine already, forget it.\\n[x] 3nw should auto save and restore local storage. restore when start up, save when\\n    any field is saved. So I don't need corresponding words for them.\\n\",\"mode\":true,\"readonly\":false}","node.js HTTP server":"{\"doc\":\"\\n\\\\ ~@~@~@~@~@~@~@~@~ Build Your First HTTP Server in Node.js ~@~@~@~@~@~@~@~@~\\n\\\\\\n\\\\ https://www.diigo.com/user/hcchen/b/373115646\\n\\\\ jeforth.3nw localsotrage field \\\"node.js HTTP server\\\"\\n\\\\ ~\\\\jeforth.3we\\\\3nd\\\\build_your_http_server.f \\n\\\\\\n\\n\\\\ Lets require/import the HTTP module and choose a port to listen\\n    js> require('http') constant http // ( -- HTTP-object ) Get node.js http module\\n\\n\\\\ Lets define a port we want to listen to\\n    8080 constant PORT // ( -- port# ) Port number HTTP server listen to\\n\\n\\\\ We need a function which handles requests and send response\\n    <comment>\\n    <js>\\n        var f = function handleRequest(request, response){\\n            response.end('It Works!! Path Hit: ' + request.url);\\n        };f\\n    </jsV> constant handleRequest // ( -- func ) Request handler\\n    </comment>\\n\\n\\\\ Callback triggered when server is successfully listening. Hurray!\\n    <js>\\n        var f = function callback(){\\n            type(\\\"Server listening on: http://localhost:\\\"+vm[context].PORT);\\n        }; f\\n    </jsV> constant server-callback // ( -- func ) Call back function of the HTTP server\\n\\n\\\\ Create a server\\n    http :> createServer(vm[context].handleRequest)\\n    constant server // ( -- obj ) HTTP server object\\n\\n\\\\ Lets start our server\\n    server :> listen(vm[context].PORT,vm[context][\\\"server-callback\\\"])\\n\\n\\\\ Your server should respond differently to different URL \\n\\\\ paths. This means we need a dispatcher. Dispatcher is kind \\n\\\\ of router which helps in calling the desired request handler \\n\\\\ code for each particular URL path. Now lets add a dispatcher \\n\\\\ to our program. First we will install a dispatcher module, \\n\\\\ in our case httpdispatcher. There are many modules available \\n\\\\ but lets install a basic one for demo purposes\\n\\n    js> require('httpdispatcher') constant dispatcher // ( -- obj ) HTTP dispatcher\\n\\n\\n//Lets use our dispatcher\\nfunction handleRequest(request, response){\\n    try {\\n        //log the request on console\\n        console.log(request.url);\\n        //Disptach\\n        dispatcher.dispatch(request, response);\\n    } catch(err) {\\n        console.log(err);\\n    }\\n}\",\"mode\":true,\"readonly\":false}","pruning":"{\"doc\":\"\\n\\\\ Make the target page editable for pruning. 把 target page 搞成 editable 以便修剪。\\nactive-tab :> id tabid! <ce> document.getElementsByTagName(\\\"body\\\")[0].contentEditable=true </ce>\\n\",\"readonly\":true,\"mode\":true}","smde_MyUniqueID":"j e f o r t h . 3 w e\n==============\n**Forth** is the simplest programming language ever. The jeforth.**3we** project is an implementation based on a **3 Words Engine** from [project-k](http://github.com/hcchengithub/project-k) for many applications: *HTA (jeforth.3hta)*, *HTML (jeforth.3htm)*, *Chrome Extension (jeforth.3ca)*, *Node.js (jeforth.3nd)*, *Node-webkit or NW.js (jeforth.3nw)*, and probably more in the future. All of them have been tested on Windows 8 or Windows 10.\n\nPlay now\n===========\nAmong the many applications, jeforth for web page (jeforth.3htm) can run on your web browser right now thus is good for demonstration. \n\n#### [Solar system](http://rawgit.com/hcchengithub/jeforth.3we/master/index.html?cls_include_solar-system.f)\n[簡介](http://note.youdao.com/yws/public/redirect/share?id=94764cf57ba4365e2997f4a268ff7716&type=false)<br>\n![enter image description here](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/solar-system.png)\n\n#### [H2O](http://rawgit.com/hcchengithub/jeforth.3we/master/index.html?cls_include_h2o.f)\n![enter image description here](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/h2o.png)\n\n#### [Alarm clock](http://rawgit.com/hcchengithub/jeforth.3we/master/index.html?cls_include_alarm.f_er)\n ![enter image description here](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/demo-alarm.png)\n \n#### [Box2Dweb Physics Engine demo - Arrows](http://rawgit.com/hcchengithub/jeforth.3we/master/index.html?cls_include_box2dweb-arrow.f)\n![enter image description here](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/demo-arrow.png)\n\n#### [Chipmunk Physics Engine demo - Pyramid Stack](http://rawgit.com/hcchengithub/jeforth.3we/master/index.html?cls_include_chipmunk-js-pyramidstack.f)\n![enter image description here](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/demo-pyramidstack.png)\n\n\nWhat else can you do with jeforth.3we?\n=============\n\n#### [Markdown editor](http://note.youdao.com/yws/public/redirect/share?id=1a8a342f3a9c1e0622a6050480af28b7&type=false)\n\nNW.js can access files in your local computer and also have all abilities like the Chrome browser, that allows jeforth.3nw to include JavaScript modules from the Internet. For example, [SimpleMDE](https://simplemde.com) is a Markdown Editor that works fine on jeofrth.3nw. \n\n![enter image description here](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/demo 3nw mde editor.JPG)\n\n\nGet source code, unzip, and start running\n=============\n\n| Item | Address |\n----------------|----------------------------------------------\n| jeforth.3we high level source code | *http://github.com/hcchengithub/jeforth.3we* |\n| Kernel, projectk.js 3-words-engine| *http://github.com/hcchengithub/project-k* |\n\n<br>\nClick the [Download ZIP] button of both projects [jeforth.3we](https://github.com/hcchengithub/jeforth.3we) and [project-k](https://github.com/hcchengithub/project-k) on their GitHub web page to get them. Unzip jeforth.3we first and then unzip project-k to under the jeforth.3we directory, as shown in the below directory listing. Then you can run 3hta.bat  without installing anything else if your computer is Windows 8 or Windows 10; or run 3nd.bat and 3nw.bat, if you have installed node.js and nw.js.\n\nMy jeforth.3we/ directory listing for example,\n\n![jeforth3we-dir.png](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/jeforth3we-dir.png)\n\n\n**Note:** Only for jeforth.3hta and only when you were **Download Zip** jeforth.3we from GitHub, It's necessary to use GNU tool [unix2dos](http://waterlan.home.xs4all.nl/dos2unix.html) to convert the new line characters of all text files [from Unix's LF to Windows' CRLF](https://en.wikipedia.org/wiki/Unix2dos). This is an example command line of the usage:\n\n    d:\\jeforth.3we>for /R %G in (*.*) do d:\\bin\\unix2dos.exe \"%G\"\n\n<br>\n\nIf you were **git clone https://github.com/hcchengithub/jeforth.3we** instead of **Download Zip** then forget this step, GitHub shell for Windows already converts new line characters to CRLF correctly. \n\nPresentation videos\n======\n\n| No.   | Mandarin | English |\n--------|----------|---------\n| 1  | [Opening](http://www.camdemy.com/media/19253)| n/a |\n| 2  | [Run the HTML version online](http://www.camdemy.com/media/19254)| n/a |\n| 3  | [Run the HTML version on local computer](http://www.camdemy.com/media/19255)| n/a |\n| 4  | [Run the HTA version](http://www.camdemy.com/media/19256)| n/a |\n| 5  | [Run Node.js and Node-Webkit version](http://www.camdemy.com/media/19257)| n/a |\n| 6  | [F2 inputbox edit mode](http://www.camdemy.com/media/19258)| n/a |\n| 7  | [F4 Copy marked string to inputbox](http://www.camdemy.com/media/19259)| n/a |\n| 8  | [F5 Restart](http://www.camdemy.com/media/19260)| n/a |\n| 9  | [Bigger/Smaller input box](http://www.camdemy.com/media/19261)| n/a |\n| 10 | [Esc clear input box](http://www.camdemy.com/media/19262)| n/a |\n| 11 | [Tab auto-complete](http://www.camdemy.com/media/19263)| n/a |\n| 12 | [Enter jump into the input box](http://www.camdemy.com/media/19264)| n/a |\n| 13 | [Up/Down recall command history](http://www.camdemy.com/media/19265)| n/a |\n| 14 | [Alt-Up Reuse used commands](http://www.camdemy.com/media/19266)| n/a |\n| 15 | [Crtl- / Ctrl+ Zoom in/ Zoom out](http://www.camdemy.com/media/19267)| n/a |\n| 16 | [Ctrl-Break stop all tasks](http://www.camdemy.com/media/19268)| n/a |\n| 17 | [BackSpace trims the output box](http://www.camdemy.com/media/19269)| n/a |\n| 18 | [Help is helpful](http://www.camdemy.com/media/19270)| n/a |\n| 19 | [jsc JavaScript Console](http://www.camdemy.com/media/19271)| n/a |\n\nWhat to play in further depth\n========================\nDownload and setup the jeforth.3we directory and project-k directory as mentioned above.\n\n#### **HTA** / jeforth.3hta\nDouble click the **jeforth.3we/jeforth.hta** or execute the below DOS command line in a DOS box,\n```\njeforth.hta cls .' Hello world' cr 3000 sleep bye\n```\n![3htahello-world.png](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/3htahello-world.png)\n\nThe prior method runs self-test because there's no given task to do. The 2'nd method is expected to print 'Hello world' (as shown above) and return to DOS box after 3 seconds.\n\n\nNote! If you see the Windows error message : [\"Safety Settings on this computer prohibit accessing a data source on another domain\"](https://social.msdn.microsoft.com/Forums/en-US/becc982a-b693-49bb-8fb0-95847a3e96c7/hta-safety-settings-on-this-computer-prohibit-accessing-a-data-source-on-another-domain?forum=scripting) that I heard may happen on some Windows 7 computers. Sorry, [I have no solution yet](http://stackoverflow.com/questions/32177060/hta-safety-settings-on-this-computer-prohibit-accessing-a-data-source-on-anot), It didn't happen on those Windows 7 computers that I could reach. Please upgrade to Windows 8 or 10 to avoid from the problem.\n\n#### **Node.js** / jeforth.3nd\nMake sure you can run node.exe in a DOS box so you have setup the path. Make the jeforth.3we/ folder be your working directory. Execute one of the below demo command lines:\n```\nnode jeforth.3nd.js\nnode jeforth.3nd.js cls .' Hello world' cr bye\n```\nAgain, like the above HTA case, the prior command line does the self-test, and the 2'nd is expected to print 'Hello world'.\n\nWe have a local Web server written by jeforth.3nd itself. See jeforth.3we/Webserver.bat. Having a local Web server is necessary to run jeforth.3htm. \n\n#### **HTML** / jeforth.3htm\nSetup your local Web server by running jeforth.3we/Webserver.bat, \n\n![webserver.png](https://github.com/hcchengithub/jeforth.3we/wiki/pictures/webserver.png)\n\nthen try to visit below URLs:\n```\nhttp://localhost:8888\nhttp://localhost:8888/index.html\nhttp://localhost:8888/index.html? cr .\" hello world\" cr cr \nhttp://localhost:8888/index.html?_cr_.\"_hello_world\"_cr_cr \nhttp://localhost:8888/index.html? .\" 8-) \" 100 nap rewind\nhttp://localhost:8888/index.html?_.\"_8-)_\"_100_nap_rewind\n```\nI have tested IE10 , IE11 and Chrome. Firefox or other web browsers are not tested yet. As shown above, we can put any forth words in the URL. That will be the task jeforth.3htm will do after start up and the self-test will be skipped when having a task to do.\n\n#### **Node-webkit** / jeforth.3nw\nSetup your Node.js and Node-Webkit path in prior. Refer to 3nw.bat as an example. Make jeforth.3we/ be your working directory, run either one of below command lines:\n```\nnw ../jeforth.3we\nnw ../jeforth.3we cls .' Hello World' 3000 sleep bye\n```\nThe prior runs self-test because there's no given task to do. The 2'nd is expected to print 'Hello world' and return to DOS box after 3 seconds.\n\t\nCompile eforth.com\n--------------------------\n\nJeforth.3nd for Node.js can be a handy x86 CPU assembler (any other CPU too). We have an example to compile the legendary eforth.com executable for 16 bits PC under MS-DOS by Bill Muench and C. H. Ting, 1990.\n\n 1. Install node.js correctly so you can run node.exe in a DOX box. Working directory at jeforth.3we/. \n 2. Run: node.exe jeforth.3nd.js include 86ef202.f bye\n 3. You got jeforth.3we/eforth.com\n 4. I have a 32bits windows 8, so I can run eforth.com directly. If your Windows system is 64 bits, you'll need a DOS virtual machine like vmware, virtual box, or I recommend DOSBox, to run the created eforth.com.\n\nExcel automation\n---------------------\nUse jeforth.3hta to manipulate excel spread sheets. This example gets a column from a reference excel file to your target excel file.\n\n 1. Double click on jeforth.3we/jeforth.hta to start it. After the self-test type the command line \"include merge2.f\" into the input box.\n 2. Or run the below command line directory for the same thing:\n```\njeforth.hta include merge2.f\n```\n\n#### The End\n\n - FigTaiwan [http://figtaiwan.org](http://figtaiwan.org) \n - H.C. Chen [hcchen5600@gmail.com](hcchen5600@gmail.com) \n - Written with [StackEdit](https://stackedit.io/)\n\n\n  "}