
\
\ git.f ?? forth ?????,?? GitHub ???????
\ http://github.com/hcchengithub/jeforth.3we/wiki/jeforth.3hta-GitHub-helper----git.f
\ Video on Camdemy.com http://www.camdemy.com/media/19404
\
\     GitHub ????,????????????????????????,????????
\ ??? jeforth ???????????????????????????????? help
\ message??? GitHub ???????,?? jeforth ?? study ????????????
\
\ 11:36 2017-09-11 ???????? python multiple line input tool pykb.f
\ ??????????,???? 3hta ? run as administrator ???,??????
\

js> vm.appname char jeforth.3hta != [if] ?abort" Sorry! git.f is for jeforth.3hta only." \s [then]
include vb.f
include unindent.f

s" git.f"   source-code-header

    \   ??
    \   ====
    \   Git ????????????(DVCS; Distributed Version Control System)?
    \   ?????? [x] yeah sure it is.
    \   ???? [x] simply copy the entire folder.
    \   ??????????????? [x] help branch
    \   ??? Git ?????
    \   ??????? [x] The 'issues' on GitHub web.
    \   ?? Wiki ???? [x] The 'wiki' on GitHub web.
    \   ????????(Code Review)??? [x] Click on the commit code on GitHub web to see the 'diff'.
    \   How to run git shell
    \   --------------------
    \   use Github for Windows to open the git shell through the [setting] button
    \   at the upper right corner. We can change default shell to dos, powershell, or linux.
    \   ????
    \   ========
    \   ????= commit
    \    ???? = tracked
    \   ?????????= index cache
    \   Git ??? = repository
    \   cached = Staged (??? to commit)
    \

    \   ? 01 ?:?? Git ????
    \   ===========================
    \   ?Git ?????????,????????????,??????,??????????????
    \   ????ÄÄ ??!? jeforth.3hta ????????? word name ?????,?? help?comment ????
    \   ?????????,???????????(shared repository)????????? ??:????????
    \   ?????????????,??? SSH ??????????? Git ???,????? Web ?????
    \   ???? Git ?????
    \   ????????? Git ??????????????????

    \   ? 02 ?:? Windows ??????? Git ??
    \   ============================================
    \   ? 1 ?:Git for Windows <---- the shell tools set
    \   ? 2 ?:GitHub for Windows <---- ??,????
    \   ? 3 ?:SourceTree
    \   ? 4 ?:TortoiseGit

    \   ? 03 ?:????? https://github.com/hcchengithub/Learn-Git-in-30-days
    \   ====================
    \   There are three kind of repo's
    \   1.  ??????????? (local repository) [x] "git init" at the repo folder
    \   2.  ????????????? (shared repository) [x] "git init --bare" at the shared repo
    \       ==> For Linux , Windows users seem don't need this.
    \   3.  ? GitHub ??? Git ?????????? (remote repository)
    \   The best way is to create on GitHub.com then clone it back to local computer
    \   through the "GitHub for Windows" or "Git Shell" clone command. See 'clone' command.

    \   ???? shared-repository
    \   ----------------------------
    \   ~\git-demo [master]> md .\shared-repository
    \   cd shared-repository
    \   ?????? git init --bare
    \   ??????????? Git ????????????,???????,????????
    \   ????????,?????? Git ?????,??????,????????????
    \   ???????,???? git ??????
    \   ????????????????? -- bare repository.
    \   ????,Git ???????????,?????????????(Repository)?????,
    \   ???????????????,??????????????????,???????
    \   git clone [REPO_URI] ??????(clone)??????,??? git clone ???,?????
    \   ??????,????????????????????????????,?????????
    \   ??,???? Git ????????????????????...??,???????????
    \   ???????? workspace
    \   --------------------------
    \   github\git-demo [master +1 ~0 -0 !]> md git-workspaces
    \   github\git-demo [master +1 ~0 -0 !]> cd .\git-workspaces
    \   ??? "shared repository" clone ??
    \   github\git-demo\git-workspaces [master +1 ~0 -0 !]> git clone ..\shared-repository
    \       Cloning into 'shared-repository'...
    \       warning: You appear to have cloned an empty repository.
    \       done.

    \ Setup git-shell-path so we know how to run Git Shell.
    char WKS-38EN3477 char COMPUTERNAME proc-env@ = [if] s" C:\Users\8304018.WKSCN\AppData\Local\GitHub\GitHub.appref-ms --open-shell" [then]
    char ASROCK-P8H61 char COMPUTERNAME proc-env@ = [if] s" C:\Users\hchen\AppData\Local\GitHub\GitHub.appref-ms --open-shell" [then]
    char WKS-38EN3476 char COMPUTERNAME proc-env@ = [if] s" C:\Users\8304018\AppData\Local\GitHub\GitHub.appref-ms --open-shell" [then]
    char DESKTOP-Q94AC8A char COMPUTERNAME proc-env@ = [if] s" C:\Users\hcche\AppData\Local\GitHub\GitHub.appref-ms --open-shell" [then]
    char WKS-4AEN0404 char COMPUTERNAME proc-env@ = [if] s" C:\Users\hcche\AppData\Local\GitHub\GitHub.appref-ms --open-shell" [then]
	char WKS-31ENA852 char COMPUTERNAME proc-env@ = [if] s" C:\Users\hcche\AppData\Local\GitHub\GitHub.appref-ms --open-shell" [then]

    value git-shell-path // ( -- str ) Command line to launch Git Shell.
    /// Something like this:
    /// C:\Users\hcchen\AppData\Local\GitHub\GitHub.appref-ms --open-shell
    /// which is from right-click the 'Git Shell' icon on the Desktop.

    \ You need to setup 'project-name' and 'uri(origin/master)' manually.
    \ s" forthtranspiler" value project-name // ( -- str ) The github repository name (project title)
    s" jeforth.3we" value project-name // ( -- str ) The github repository name (project title)
    \ s" https://github.com/figtaiwan/forthtranspiler" value uri(origin/master) // ( -- str ) URI of figtaiwan/forthtranspiler
    s" https://github.com/hcchengithub/" project-name + value uri(origin/master) // ( -- str ) URI of figtaiwan/forthtranspiler

    : shellId (  -- processID ) \ Get Git Shell processID, only one allowed.
        0 s" where CommandLine like '%GitHub%' and name = 'powershell.exe'" objEnumWin32_Process >r  ( 0 | obj )
        begin
            r@  ( 0 obj | obj)
            js> !pop().atEnd() ( 0 NotAtEnd? )
        while ( count | obj )
            1+ ( count )
            r@ :> item().ProcessId swap ( processID count | obj )
        r@ js: pop().moveNext() repeat ( ... count | obj )
        r> drop 1 = if else 0 then ;

    : check-shell ( -- ) \ Abort if Shell is not running.
        shellId not ?abort" Error! Git Shell is not running. Try 'launch-git-shell' command again." ;

    : activate-shell ( -- ) \ Active Git Shell (Git Shell's powershell.exe)
        500 nap shellId ?dup if ( processID )
            s' WshShell.AppActivate ' swap + </vb>
        then 500 nap ; /// assume it's powershell
    : activate-jeforth ( -- ) \ Come back to jeforth.3hta
        1000 nap s" WshShell.AppActivate " vm.process :> processID + </vb> 500 nap ;

    : <shell> ( <command line> -- ) \ Command line to the Git Shell
        char {enter}{enter} char </shell> word + compiling if literal then ; immediate
		/// Note! Use two "" instead of any " in the command line due to VBscript syntax.


    : </shell> ( "command line" -- ) \ Send command line to the Git Shell
        compiling if
            compile check-shell
            \ '^' and '~' ? sendkey ? special character ??? "{^}" and "{~}"
            js: push(function(){push(pop().replace(/\^/g,"{^}").replace(/~/g,"{~}"))})
            , compile activate-shell
            s' WshShell.SendKeys "' literal compile swap compile + s' {enter}"' literal
            compile + [compile] </vb> compile activate-jeforth
        else
            check-shell
            js> pop().replace(/\^/m,"{^}").replace(/~/g,"{~}") activate-shell
            s' WshShell.SendKeys "' swap + s' {enter}"' + </vb> activate-jeforth
        then ; immediate

    : launch-git-shell ( -- ) \ Run or activate Git Shell
        shellId if activate-shell else git-shell-path (fork) then
        begin 500 nap shellId until 500 nap activate-shell ;

    : autoexec ( -- ) \ Mimic autoexec.bat
        <shell> subst x: /d </shell>
        <shell> subst x: .</shell> <shell> x:</shell>
        s" cd " project-name + </shell> then ;

    : cd ( <...> -- ) \ The DOS command 'change directory'.
        s" cd " CR word + </shell> ;

    : (cd) ( "..." -- ) \ The DOS command 'change directory'.
        s" cd " swap + </shell> ;

    : CLS ( <...> -- ) \ The DOS command 'Clear screen', also clear jeforth output box.
        <shell> cls </shell> cls ;
        /// 'er' to erase only the jeforth output box.
		/// ?????????

    : dir ( <...> -- ) \ The DOS command 'View directory'.
        s" dir " CR word + </shell> ;
        /// 'ls' to list repository.

    : init ( -- ) \ Create a new git repository at the current directory
        <shell> git init</shell> ;
        /// Don't worry about re-init a git again. It's idiot-proof, it responses something like:
        /// Reinitialized existing Git repository in D:/hcchen/Dropbox/learnings/github/...

    : status ( -- ) \ Git status of the repository
        <shell> git status</shell> ;

    : ???? ( -- ) \ Clean garbage ????????????????
        <shell>  git gc --prune </shell> ;
        /// Git ???????,???????????????????,?
        /// ????????????????????????????,??
        /// ???????????????: git gc --prune ?? git gc ???

    : ???? ( -- ) \ Archive ??? objects (files) ???????? packfile ??
        <shell>  git gc </shell> ;
        /// ?????????????????,????(file)?????,???
        /// ???????????????????? Git ????????????
        /// ??? "??" ??????????(packfile)?,??????????
        /// ????(repacking) ??? Git ????????????,???????
        /// ??????????: git gc

    : clone ( <'URI'> -- ) \ New a repository, which is from URI, at the current folder
        s" git clone " CR word + </shell> ;
        ///     git clone ???????????,?????????????,
        /// ??? .git ????
        ///     Example: clone https://github.com/figtaiwan/forthtranspiler
        /// clone ???? current directory ???? md project folder ???
        /// current directory ?? project folder???????? "branch"?
        ///     ????? github/forthtranspiler ????, ?:
        /// fatal: destination path 'forthtranspiler' already exists and is
        /// not an empty directory. Local ????????? pull ?, ???8???
        ///     ???? git clone https://balbal.git ??????? ???????
        /// ?? Git ???,?????? warning: You appear to have cloned
        /// an empty repository. ????,???????????????
        ///     The best way to create a new project is doing it on GitHub.com
        /// then clone it back to local computer through the "GitHub for Windows"
        /// or clone command.


    : git-help ( -- ) \ Git help
        <text>
    usage: git [--version] [--help] [-C <path>] [-c name=value]
               [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path]
               [-p|--paginate|--no-pager] [--no-replace-objects] [--bare]
               [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>]
               <command> [<args>]

    The most commonly used git commands are:
       add        Add file contents to the index
       bisect     Find by binary search the change that introduced a bug
       branch     List, create, or delete branches
       checkout   Checkout a branch or paths to the working tree
       clone      Clone a repository into a new directory
       commit     Record changes to the repository
       diff       Show changes between commits, commit and working tree, etc
       fetch      Download objects and refs from another repository
       grep       Print lines matching a pattern
       init       Create an empty Git repository or reinitialize an existing one
       log        Show commit logs
       merge      Join two or more development histories together
       mv         Move or rename a file, a directory, or a symlink
       pull       Fetch from and integrate with another repository or a local branch
       push       Update remote refs along with associated objects
       rebase     Forward-port local commits to the updated upstream head
       reset      Reset current HEAD to the specified state
       rm         Remove files from the working tree and from the index
       show       Show various types of objects
       status     Show the working tree status
       tag        Create, list, delete or verify a tag object signed with GPG

    'git help -a' and 'git help -g' lists available subcommands and some
    concept guides. See 'git help <command>' or 'git help <concept>'
    to read about a specific subcommand or concept.
        </text> . ;

    \ ? 04 ?:??? Git ??????
    \   master ????????? master ??,?? Git ????????
    \   ?????????? Untracked (???) ???,????????????????(commit)?
    \   +10 ??? 10 ????????
    \   ~0 ??? 0 ????????
    \   -0 ??? 0 ????????
    \   ?????????? Staged (???) ???,???????????????(commit)?
    \   +23 ??? 23 ????????????????
    \   ~0 ??? 0 ????????????????
    \   -0 ??? 0 ????????????????

    : add ( <...> -- ) \ Add file(s) into the cache of the repo (the project)
        s" git add " CR word + </shell> ;
        /// ??,pathname ?????,?,????? warning ????????!
        /// Usage: add name1 name2 ... , wild card '*', '?' and '.' supported.
        /// 'add' ????? tracked ?? cache ?? commit???? tracked ?
        /// untracked ???? add ??? cache??????????? add ??
        /// ????? tracked ????????? cache ??????? commit ?
        /// ??? add ????????? tracked ??
        /// "git add ." ??????(????)??? working directory ?????

    : commit ( <...> -- ) \ Save the cache into the repository. ? tracked files ? commit ? repository.
        s" git commit " CR word + </shell> ;
        /// Usage: commit [-m "Descriptions"]
        /// ?? 'add' ????? cache ? commit ??????? tracked ?
        /// untracked ???? add ??? cache??????????? add ?
        /// ?????? tracked ????????? cache ???????
        /// commit ???? commit ???? checkin?

    \ ??! pathname ?????,?????? warning, ??
    \   github\forthtranspiler [master +1 ~1 -0 !]> git add readme.md <------ ??? README.md ?????,????????!
    \   github\forthtranspiler [master +1 ~1 -0 !]> git add readme.mdddd <--- ?????????? error
    \   fatal: pathspec 'readme.mdddd' did not match any files
    \   github\forthtranspiler [master +1 ~1 -0 !]> git status <---- add ???? status ?
    \   On branch master
    \   Your branch is up-to-date with 'origin/master'.
    \
    \   Changes not staged for commit:
    \     (use "git add <file>..." to update what will be committed)
    \     (use "git checkout -- <file>..." to discard changes in working directory) <------ ????!
    \
    \           modified:   README.md  <-------------- ??? modified ?????,?? unstaged
    \
    \   Untracked files:
    \     (use "git add <file>..." to include in what will be committed)
    \
    \           cfg.bat <------ ??????
    \
    \   no changes added to commit (use "git add" and/or "git commit -a")
    \   ?? git add . ???? readme.md ?? staged (??),?????????,????????
    \   D:\hcchen\Dropbox\learnings\github\forthtranspiler [master +1 ~1 -0 !]> git add README.md <----- ?????
    \   D:\hcchen\Dropbox\learnings\github\forthtranspiler [master +0 ~1 -0 | +1 ~0 -0 !]> git status
    \   On branch master
    \   Your branch is up-to-date with 'origin/master'.
    \
    \   Changes to be committed:
    \     (use "git reset HEAD <file>..." to unstage) <--- ???,? HEAD ??????
    \
    \           modified:   README.md       <------ ??
    \
    \   Untracked files:
    \     (use "git add <file>..." to include in what will be committed)
    \
    \           cfg.bat
    \
    \   D:\hcchen\Dropbox\learnings\github\forthtranspiler [master +0 ~1 -0 | +1 ~0 -0 !]> git commit -m "modify the readme.md"
    \   [master a372103] modify the readme.md
    \    1 file changed, 2 insertions(+)
    \   D:\hcchen\Dropbox\learnings\github\forthtranspiler [master +1 ~0 -0 !]> git status
    \   On branch master
    \   Your branch is ahead of 'origin/master' by 1 commit.
    \     (use "git push" to publish your local commits) <------ ??????,?????
    \                                                       ??,?? commit ?? push ?????
    \                                                       ????????,?????? See ^111
    \   Untracked files:
    \     (use "git add <file>..." to include in what will be committed)
    \
    \           cfg.bat
    \
    \   nothing added to commit but untracked files present (use "git add" to track)
    \   D:\hcchen\Dropbox\learnings\github\forthtranspiler [master +1 ~0 -0 !]>

    \ git rm ??? add ??????????,??????? untrack ? untrack-folder ?!
    \ git reset ??? tracking ???,??? add?

    \ git log ???!

    : log-verbose ( [options...] -- ) \ Read the commit log, 'q' to stop.
        s" git log " CR word + </shell> ;
        /// See also 'log' command.
        /// "git log -10" to see only the recent 10 commits
        /// log-verbose origin \ to see also newer commits

    : ???? ( <filename1 filename2 ...> -- ) \ ???????? commit???????
        s" git checkout -- " CR word + </shell> ;
        /// ????????????????????:
        /// git checkout <master|commitId> path/Gruntfile.js
        last alias retrieve
        last alias recall

    : ???? ( -- ) \ ????????? checkout ??,??!???????????
        <shell> git reset --hard </shell> ;
        /// ???????,???? git reset --hard ORIG_HEAD ??
        /// ???????,?????????????????

    : ls ( <[-u or other options]> -- ) \ Like dir of DOS, list all files of the repository.
        s" git ls-files " CR word + </shell> ;
        /// "ls -u" to list conflict files then use "diff [filepath]" to see the details.

    : ls-remote ( -- ) \  'ls' but regarding the remote repo.
        s" git ls-remote " CR word + </shell> ;
        /// ls-remote ???? remote repo ? reference ?????
        /// remote branchs ? remote tags.


    \ ? 05 ?:??????????????????????<----------- ????????!
    \   ?? Git ?????,???????????
    \   ?? git checkout ?????????????????????????????????
	\   ????????????,????????????,????????????????
    \ object ?????????????????????
    \ index ?????????????????????????

    \ ? 06 ?:?? Git ???? - ????

    : file-system-check ( -- ) \ check repository file system integity
        <shell> git fsck</shell> ;
        /// ?? Git ??????????????????? repo ???
        /// clone ????,? git fsck ???? dangling commit, ?????:
        /// dangling commit 0b8054b68a13d6e3effad469070d9535583e248c
		/// ?? git gc ??????

    \ ? 07 ?:?? Git ???? - ????
    \ ?? tracked/untracked, modified/unmodified, staged/unstaged ???
    \ ????? State diagram ??? ??????

    : add-modified ( -- ) \ ?? untracked ? cache "modified" and "deleted" files.
        <shell> git add -u </shell> ;
        /// 'add' ????? cache ?? commit???? tracked ? untracked ?
        /// ??? add ??? cache??????????? add ???????
        /// tracked ????????? cache ??????? commit ??

    \ ? 08 ?:??????????????

    : list-branches ( -- ) \ List local branches ????????????
        s" git branch " </shell> ;
		/// Also : list-all-branch ? remote server ???????

    : create-branch ( <...> -- ) \ Create a new branch e.g. ?? commit ??????????
        s" git branch " CR word + </shell> ;
        /// * ??? commit,??? commit ?? branch ?,???????
		/// git branch ...

    : checkout-to-new-branch ( [<...>] -- ) \ checkout to a new branch e.g. ?? commit ??????????
        s" git checkout -b " CR word + </shell> ;
        /// * ??? commit,??? commit ?? branch ?,???????
		/// git checkout -b ...
		/// Example:
		///   checkout-to-new-branch <branchName> , ??? version ?????
		///   checkout-to-new-branch <branchName> master , ???? master ?????

    : delete-branch ( <branch name> -- ) \ Delete an existing branch.
        s" git branch -d " BL word + </shell> ;
        /// ????????????,???????????,?????
        /// ????????????,???????????,????
        /// git branch -D feature (??? -D)????????

    : list-all-branch ( -- ) \ List all local and remote branches.
        <shell> git branch -a </shell> ;
        /// git branch -a ?????????????????????
        ///     ???? : ??? git branch ???????????,?
        /// ?????????,?????????? ???? (Topic
        /// Branch) ? ???? (Development Branch),????????
        /// ?????????????,??????????
        ///     ????:????,????????????????,
        /// ??????? GitHub ???????????


    : switch-branch ( <branch name> -- ) \ Switch to another branch which is existing.
        s" git checkout " CR word + </shell> ;
        /// "switch branch" and "switch commit" and "checkout" are the same.
        /// [ ] ??? commit,???? cache ?? commit ??? branch ????
        /// ?? checkout ?? commit?
        /// Switch commit ???,??????? detached HEAD ??,????
        /// ????????????????,???????? Git ?????
        /// ???,????????????????,?????????????
        /// ?? git commit ??,????????????????,?????
        /// ????????? detached HEAD ?????????????,???
        /// ??????????????????
        /// Use "git log" to see commit ID's
        /// Use "checkout-to-new-branch" to switch to a new branch.
		/// ????????,?? switch-branch ?????????, error message
		/// ??:
		/// error: Your local changes to the following files would be overwritten
		///        by checkout: bbt.html
		/// Please, commit your changes or stash them before you can switch branches.
		/// [ ] ??? *stash* ???? ??????????? repository ??????

    last alias switch-commit // ( <commit ID> -- ) Switch to another commit.
    last alias checkout // ( <...> -- ) "git checkout" general form
        /// Switch HEAD to another commit, recall a file, .. etc.


    \ ? 09 ?:?????????

    : diff ( <[id1] [--cached] [id2]> -- ) \ List differences between comments.
        s" git diff " CR word + </shell> ;
        /// diff               => ???? vs ??
        /// diff HEAD          => ???? vs HEAD (?????? or commit)
        /// diff --cached HEAD => ??     vs HEAD
        /// diff --cached      => ??     vs HEAD
        /// diff HEAD^ HEAD    => HEAD^    vs HEAD
        /// diff commit1 commit2 => commit1 vs commit2
        /// ?? git diff ????? merge ??????????????????
        /// ? <<<<<<< HEAD ? ======= ???,?? HEAD (?? master ????
        /// ??)?????????? ======= ? >>>>>>> hotfixes ???,??
        /// hotfixes ??????????


    \ ? 10 ?:?? Git ???????

    : log ( -- ) \ List all local commit log, 'q' to stop. 
        <shell> git log origin --pretty=oneline --abbrev-commit </shell> ;
        /// HEAD may not be at top of the list when debugging older commit.
        /// See also 'log-verbose' command

    \ ? 11 ?:?? Git ????????????

    \   HEAD, branch name, --cached are all references
    \   ? Git ???,??????????????,??????????? commit
    \   ??,???????????? .git/ ???????????????:
    \
    \ HEAD
    \   ?????????????????????????????????????
    \   ??? git commit ?,?? HEAD ?????????????????? commit ???
    \ ORIG_HEAD
    \   ?????? HEAD ?? commit ????????,???????????????
    \ FETCH_HEAD
    \   ????????,????? git fetch ?????????????????
    \   FETCH_HEAD ??????????????????? HEAD (???) ????????
    \ MERGE_HEAD
    \   ????????? (??????????????????),??????? commit
    \   ??????????? MERGE_HEAD ????????
    \ ??:??? 'origin' ???? reference, ?? GitHub??? origin ???? Git ?
    \   ??????????????????,????????????????? URL ???

    : reference ( "reference" <pathname> -- ) \ Create or change a reference that points to a GitHub object.
        BL word ( "reference" "ref-name" ) s" git update-ref " swap + s"  " + swap + </shell> ;
        /// Example of a pathname : refs\refName
        /// GitHub object is usually a commit. Can also be a tree
        /// or something else that you can find in the .git folder.

    : symbol ( "reference-pathname" <pathname> -- ) \ Create (and change?) a symbolic reference.
        BL word ( "reference-pathname" "symbol-name" ) s" git symbolic-ref " swap + s"  " + swap + </shell> ;
        /// Example of a pathname : refs\symName

    : show-ref ( -- ) \ List all references include symbols.
        <shell> git show-ref</shell> ;

    \ ? 12 ?:?? Git ???????

    \ ? 17 ?:??????????????
    \     ?????????????,????????????????????,?????????
    \ ???????????? master ???????,??????????????? bugfix ????
    \ ?????,? Bugs ???,??????????? bugfix ??????????? master ??,
    \ ????????????????,?????????,??????????????,?????
    \ ?????????,????????????????????
    \     ? Git ?????,??????????????????????????????????,
    \ ????? Git ????,??????? Initial Commit ??(????),???????????
    \ ??????,?????????????????????(the tracked object on the branch heads)
    \ ,?????????????????????????????????????
    \     ?????,?????????????????,???????????,Git ???????
    \ ?/????????????????,???????????????????????,????
    \ ?????????????????????,Git ???????????,???????????
    \ ?????????,????????????????? unmerged ??,????????? git
    \ status ?????????
    \     Git ?????????:?? git status ??? git ls-files -u
    \ ?????? git diff [filepath] ?????????????:

    : merge ( <from commit> -- ) \ Merge the commit(s) into the recent HEAD
        s" git merge " CR word + </shell> ;
		/// ?? GitHub for Windows ? tutorial https://guides.github.com/introduction/flow/
		/// ???? branch > pull request > merge ????


    \ ? 24 ?:?? GitHub ????? - ???

    \ Github ????????? repo ??,?????????????????? project URI?
    \ Case A.   ? GitHub ????????????? Git ???,
    \           ???? git clone ???????,
    \           ????????
    \ Case C.   ? GitHub ????????????? Git ???,
    \           ???? git clone ???????,
    \           ????????
    \ ?????????? GitHub for Windows ???????? Clone in Desktop ??,(see
    \ https://www.evernote.com/shard/s22/nl/2472143/371b041f-787f-4dad-9075-98ebc870ba8b)
    \ ?????? GitHub for Windows ?????? Git ???clone ?? local ????repo.
    \ ????? pull ?? remote ???

    : push.default ( -- ) \ git push ???????,?????? push.default ????.
        <shell> git config --global push.default simple</shell> ;
        /// ??? push.default ????,??????? git push ?????????
        /// ? Git 2.0 ??????,??????? push.default ?????????
        /// push ??????????? git help config ?????,?? push.default
        /// ????????????????? simple,?????? Git ???????
        /// ?????

    : push ( [<options>] -- ) \ Upload local repo up to the remote repo
        s" git push " CR word + </shell> ;
        ///     ????? GitHub ? clone ???,??? upload ?????
        /// ?:git push origin master ???????????,???? git push
        /// ?????????
        ///     git push ?????????????????????????
        /// ????? origin ???? Git ????????????????
        /// ???,????????????????? URL ???
        <comment>
            X:\forthtranspiler [jeforth.3hta]> git push
            fatal: The current branch jeforth.3hta has no upstream branch.
            To push the current branch and set the remote as upstream, use

                git push --set-upstream origin jeforth.3hta

            X:\forthtranspiler [jeforth.3hta]>
        </comment>

    : push?????? ( -- ) \ ? GitHub ?? repo ???,upload ????????????
        <shell> git push -u origin master</shell> ;
        /// ? GitHub ???? repo ???,???? master ????????
        /// ?? git push ??????? -u ??,?????????????
        /// ? GitHub ???????,???? git push -u origin master

    \ Github ????????? repo ??,?????????????????? project URI?
    \ Case B. ? GitHub ????????????? Git ???,
    \         ?????????? Git ????????? GitHub ??
    \ Case D. ? GitHub ????????????? Git ???,
    \         ?????????? Git ????????? GitHub ??

    : remote ( <...> -- ) \ ? GitHub ??
        s" git remote " CR word + </shell> ;
        ///     ???? clone ???,??????? Git ??????????
        /// ? GitHub ?? repo ????,????????:
        ///     git remote add origin https://bla/bla/bla.git
        /// ?????? origin ? reference ??,??? URI ??,?????
        /// ? GitHub ??????????????? push origin master?
        ///     ??? GitHub ?? repo ????,????????,?????
        /// ???? master ??,???????????,??????????
        /// ??????,?????????? master ????? GitHub ???
        /// ???? master ????????????? pull or fetch + merge?
        /// [ ] ??:????? merge ???
        /// ?? origin ???? Git ???????????????????,
        /// ????????????????? URL ???

    : pull ( <...> -- ) \ Get repo from GitHub and merge to local.
        s" git pull " CR word + </shell> ;
        /// ??????? master ????,?????????? master ??:
        /// ?? git pull origin master ??
        /// git pull ??????????????,?????????????
        /// ??(object storage)????????????????(? origin/master
        /// ??????? master ????) ???? git pull ??,????
        /// ???????:
        ///     git fetch
        ///     git merge origin/master
        \ ????? merge ???????????? 11:47 2015/8/22
        \ ???????, ???? github???????????, commit,push ?
        \ ??????:
        \   C:\Users\hcche\Documents\GitHub\jeforth.3we [master]> git push
        \   To https://github.com/hcchengithub/jeforth.3we.git
        \    ! [rejected]        master -> master (fetch first)
        \   error: failed to push some refs to 'https://github.com/hcchengithub/jeforth.3we.git'
        \   hint: Updates were rejected because the remote contains work that you do
        \   hint: not have locally. This is usually caused by another repository pushing
        \   hint: to the same ref. You may want to first integrate the remote changes
        \   hint: (e.g., 'git pull ...') before pushing again.
        \   hint: See the 'Note about fast-forwards' in 'git push --help' for details.
        \ ?????? pull ??:
		\	C:\Users\hcche\Documents\GitHub\jeforth.3we [master]> git pull
		\	remote: Counting objects: 22, done.
		\	remote: Total 22 (delta 11), reused 11 (delta 11), pack-reused 11
		\	Unpacking objects: 100% (22/22), done.
		\	From https://github.com/hcchengithub/jeforth.3we
		\	   2f1a6d9..c26912f  master     -> origin/master
		\	Merge made by the 'recursive' strategy.
		\	 3hta/excel/excel.f         | 170 +++++------
		\	 3hta/f/shell.application.f |   5 +-
		\	 3hta/f/wmi.f               |   1 +
		\	 3hta/ie.f                  | 306 ++++++++++++++++++-
		\	 3hta/money.f               | 713 +++++++++++++++++++++++++++++++++++++++++++++
		\	 3hta/work.f                | 578 ++++++++++++++++++++++++++++++++++++
		\	 3htm/f/platform.f          |   8 +
		\	 kernel/jeforth.f           | 114 ++++++--
		\	 log.txt                    | 206 ++++---------
		\	 9 files changed, 1827 insertions(+), 274 deletions(-)
		\	 create mode 100644 3hta/money.f
		\	 create mode 100644 3hta/work.f
		\ ? status :
		\	C:\Users\hcche\Documents\GitHub\jeforth.3we [master]> git status
		\	On branch master
		\	Your branch is ahead of 'origin/master' by 2 commits.
		\	  (use "git push" to publish your local commits)
        \ ??? push ????????????? pull ?????,??????
        \ ????????

    : fetch  ( <...> -- ) \ Get repo from GitHub w/o merge.
        s" git fetch " CR word + </shell> ;
        /// ??????? master ????,?????????? master ??:
        /// ?? git fetch ?????? git merge origin/master ?????
        ///     git fetch ??????????????,??????????
        /// ?????(object storage)? ?????????????????

    \ ? 25 ?:?? GitHub ????? - ???


    <comment>
        Q:  ????,?????? remotes .... ?????????????
            https://github.com/doggy8088/Learn-Git-in-30-days/issues/8#issuecomment-91797074
        A:  2015-04-11 17:12 GMT+08:00 Yue Lin Ho <notifications@github.com>:
            More note: it is on day 25.

            Pro Git 3.5

            Remote Branches
            Remote branches are references (pointers) to the state of branches in your remote repositories.
            They're local branches that ...
            ??? Pro Git 3.5

            ????
            ????(remote branch)??????????????
            ??????????????...
            ????: ???? remotes ??? prefix, ?????? ??(?????? local branches)
            ?????????????????????, ????????:
            remotes/origin/master -> ??(remotes)???(?????origin)???master??

            ??, ????????????? abc
            ?clone?,
            ???????????????? abc ???? commit ?,
            ???????????? remotes/origin/abc, ???????? commit ?
            ??????????? commit ?, ?? remotes/origin/abc ????????? abc ?,
            ?????????? abc ? remotes/origin/abc ????????? "??" ??

            ???? "??" ???, ??? ??
            ???????(master)?????(remotes/origin/master)??? "??" ???, ??????
            -
            Reply to this email directly or view it on GitHub.
    </comment>

    : ????????????? ( <tagName> <URI> -- )
        s" git remote add " CR word + </shell> ;
        /// ??????????????,???????????????
        /// ?????see ? 25 ?:?? GitHub ????? - ???

    : list-uri ( -- ) \ List associated URIs on GitHub.com
        <shell> git remote -v </shell> ;

    \ ? 26 ?:????????????????


    : ver ( -- ) \ Git version
        <shell> git --version</shell> ;
        /// ????? git ???? 1.7.10???
        /// http://jlord.us/git-it/challenges-zhtw/get_git.html

    : config ( <[...]> -- ) \ The 'git config' general
        s" git config " CR word + </shell> ;

    : list-config ( -- ) \ List the entire configuarations
        <shell> git config -l</shell> ;
        /// ( ^111 ) ????????? project ? remote.origin.url
        /// ? jeforth.3we ?? https://github.com/hcchengithub/jeforth.3we.git
        /// ? project-k   ?? https://github.com/hcchengithub/project-k
        /// ??????? alias ? diff.tool ? merge.tool ?????????

    : ?????? ( "useer-name" -- ) \ Setup the user name
        s" git config --global user.name " BL word + </shell> ;
        /// ? Git ????????????????????
        /// ?????,? "GitHub for Windows" ????????

    : ???????? ( "email-address" -- ) \ Setup the user's email address
        s" git config --global user.email " BL word + </shell> ;
        /// ? Git ????????????????????
        /// ?????,? "GitHub for Windows" ????????

    : untrack ( <file>... -- ) \ Untrack, remove a file from repo w/o deleting it
        s" git rm --cached " CR word + </shell> ;
        last alias unstage
        /// ??? add ?? track ???,? git rm --cached filename ???

    : untrack-folder ( <name>... -- ) \ Untrack, remove a directory from repo w/o deleting it
        s" git rm --cached -r " CR word + </shell> ;
        last alias unstage-folder
        /// ??? add ?? track ???,? git rm --cached -r pathname ???

<comment>
    hcchen5600 2015/04/17 21:23:33
    ??????? GitHub repository ?????? GFW ?? Dropbox ?????????? GitHub
    for Windows ???? commit ????? [Sync] button ???????????????????
    ? Dropbox folder ?????????,??? commit ? GitHub ??? remote?
    ??? .git ????,size ?? 47M ???? 19M?????: ? md ????? folder, ??
    ? GitHub ? clone ????? local jeforth.3we ? ignored ???? copy ? temp folder,?
    ? copy temp ???? local??? local size ?? 60M ??????????????????
    ==> After??????command, only 27M now.
</comment>

<comment>

[x] Remove a file from a Git repository without deleting it from the local filesystem
    http://stackoverflow.com/questions/1143796/remove-a-file-from-a-git-repository-without-deleting-it-from-the-local-filesyste
    git rm --cached mylogfile.log
    ==> untrack ( filename -- ) \ Untrack, remove a file from repo w/o deleting it
    For a directory:
    git rm --cached -r mydirectory
    ==> untrack-folder ( pathname -- ) \ Untrack, remove a directory from repo w/o deleting it

[ ] ? project ? github.com ????????????:

    .or create a new repository on the command line
    echo # wiki >> README.md
    git init
    git add README.md
    git commit -m "first commit"
    git remote add origin https://github.com/ForthHub/wiki.git
    git push -u origin master

    .or push an existing repository from the command line
    git remote add origin https://github.com/ForthHub/wiki.git
    git push -u origin master

    .or import code from another repository
    You can initialize this repository with code from a Subversion, Mercurial, or TFS project.

    Import code
</comment>

: Digest:Git?????? ( -- ) \ Digest of the article®Git ??????¯from ????????
	<text>
		<h> /* <h>..</h> ????? HTML ? <head> ? */
			<style type="text/css">
				code, .code {
					font-family: courier new;
					font-size: 110%; /*????????*/
					background: #E0E0E0;
				}
				table {
					width: 100%;
				}
				.article {
					font-family: Microsoft Yahei;
					letter-spacing: 0px;
					line-height: 160%;
				}
				.source { /*?????????? 110% ???*/
					font-size:100%;
					letter-spacing:0px"
					line-height: 100%;
				}

			</style>
		</h> drop \ /* ?? <h>..</h> ???? <style> element object, ??? */
		char body <e>
		<div/*????*/ id=article class=article><blockquote>
		<p>????????</p>
		<h1><a href="http://www.ruanyifeng.com/blog/2012/07/git.html">Digest:Git ??????</a></h1>
		<p>
			"GitHub for Windows" does not see a new branch even that is already
			on the cloud. Solution is: Use "list-all-branch" to review its name
			then "checkout the-branch-name".
		</p>
		<h2>?????? develop</h2>
		<p>
			????????????,????????????????
			?????????,?? develop????????????????????
			(nightly)??????????,?? Master ???,? develop ????????
			(merge)?
		</p>
		<p>
			Git ?? develop ?????:
		</p>
		<table width=100%><td class=code><blockquote><code>
			git checkout -b develop master
		</code></blockquote></td></table>
		<h3>? develop ????? Master ?????:</h3>
		<p>???Master??</p>
		<table width=100%><td class=code><blockquote><code>
			git checkout master
		</code></blockquote></td></table>
		<p>
			<em>???? Master ?? develop ???????????????
			?!??,??????? develop commit ???,????
			Master checkout ???</em>
		</p>
		<h3 id="?-develop-??????">?? develop ??? master ?</h3>
		<table width=100%><td class=code><blockquote><code>
			git merge --no-ff develop
		</code></blockquote></td></table>
		<p>
			????????,?????? -no-ff ?????????????
			Git ?? ???????(fast-farward merge)????
			Master ???? develop ??(???????)???
			-no-ff ???,???????,? Master ???????????
			???????????,??????????(???? develop
			branch ??????)??????????,??? Benjamin
			Sandofsky ?®Understanding the Git Workflow¯?
		</p>
		<h2 id="??????">???????</h2>
		<p>
			??????????????:Master ? develop?
			????????,???????????,
			?????????????,???????
			??,????????,?????????,
			??????????????????????????:
		</p>
		<ul>
		<li>??(feature)??</li>
		<li>???(release)??</li>
		<li>??bug(fixbug)??</li>
		</ul>
		<p>
			?????????????,?????,????,
			?????????????? Master ? develop?
		</p>
		<h2 id="?-????">?? ????</h2>
		<p>
			???,????????????????
			????????,????????????,
			<strong>? develop ??????????????,
			???? develop?</strong>????????????????,
			????? develop ???????????????,
			???? feature-x ??????
		</p>
		<h3>????????:</h3>
		<table width=100%><td class=code><blockquote><code>
			git checkout -b feature-x develop
		</code></blockquote></td></table>
		<h3>?????,???????? develop ??:</h3>
		<table width=100%><td class=code><blockquote><pre><code><unindent>
			git checkout develop
			git merge --no-ff feature-x
		</unindent></code><pre></blockquote></td></table>
		<p>
			?? feature ??:
		</p>
		<table width=100%><td class=code><blockquote><code>
			git branch -d feature-x
		</code></blockquote></td></table>
		<h2 id="??????">???????</h2>
		<p>
			?????????,???????????
			(???? Master ????),
			????????????????????
			<strong>??????? develop ????????,
			?????? develop ???????</strong>,
			????,??????????,??????? bug?
			????:???????????? bug ?,??
			devlop ???????????????????????,
			????????????????? develop
			?????????????,???????????,
			????? bug?
			<em>
			????? develop ???,??? merge ? master?
			???,?????????? merge ? develop ?????
			</em>
		</p>
		<p>
			???????,????? Develop ? Master ???
			????,????release-*?????????????:
		</p>
		<table width=100%><td class=code><blockquote><code>
			git checkout -b release-1.2 develop
		</code></blockquote></td></table>
		<p>
			???????,???master??:
		</p>
		<table width=100%><td class=code><blockquote><pre><code><unindent>
			git checkout master
			git merge --no-ff release-1.2
		</unindent></code><pre></blockquote></td></table>
		<p>
			?????????,?????
		</p>
		<table width=100%><td class=code><blockquote><code>
			git tag -a 1.2
		</code></blockquote></td></table>
		<p>
			????develop??:
		</p>
		<table width=100%><td class=code><blockquote><pre><code><unindent>
			git checkout develop
			git merge --no-ff release-1.2
		</unindent></code><pre></blockquote></td></table>
		<p>
			??,???????:
		</p>
		<table width=100%><td class=code><blockquote><code>
			git branch -d release-1.2
		</code></blockquote></td></table>
/* ------------------------------------------------------------------------ */
		<h2>???????????????</h2>
/* ------------------------------------------------------------------------ */
		<p>
			??????????,?? develop ????????? merge ? master ???
			????? master ???????????? working branch,???
			develop ? checkout
			??????,?????????? merge ? master?
			????? merge ? develop ?????
		</p>
		<h3>? master ????????</h3>
		<table width=100%><td class=code><blockquote><code>
			git checkout -b <tempBranch> [master]
		</code></blockquote></td></table>
		<p>
			or use git.f:
		</p>
		<table width=100%><td class=code><blockquote><code>
			checkout-to-new-branch <tempBranch> [master]
		</code></blockquote></td></table>
		<p>
			?? working branch, ????? develop, ??
			commit. ???? working branch ?? master
			?????? commit ???????? tempBranch ? commit.
		</p>
		<h3>? develop ????? release ???:</h3>
		<table width=100%><td class=code><blockquote><code>
			git checkout develop path/Gruntfile.js
		</code></blockquote></td></table>
		<p>
			? tempBranch ????????,????
			commit??? merge ? master,? merge ? develop?
		</p>
		<table width=100%><td class=code><blockquote><pre><code><unindent>
			commit -m "tempBranch ok now"
			git checkout master
			git merge --no-ff <tempBranch>
			git checkout develop
			git merge --no-ff <tempBranch>
		</unindent></code><pre></blockquote></td></table>
		<p>
			??,?? tempBranch:
		</p>
		<table width=100%><td class=code><blockquote><code>
			git branch -d <tempBranch>
		</code></blockquote></td></table>

/* ------------------------------------------------------------------------
		<p>
			text
		</p>
		<table width=100%><td class=code><blockquote><code>
			command line
		</code></blockquote></td></table>
		<table width=100%><td class=code><blockquote><pre><code><unindent>
			multiple command line
			multiple command line
		</unindent></code><pre></blockquote></td></table>
------------------------------------------------------------------------ */
		<h2>???? bug ??</h2>
/* ------------------------------------------------------------------------ */
		<p>
			??????? bug ???????????,
			????? bug????????????,?? bug
			????? bug ???? Master ?????????
			??????,???? Master ? develop ???
			????,???? fixbug-* ??????? bugfix
			????? master??? develop ????
			master,????Bugfix ???? master checkout
			?????? bug ???,??? master ??,???????
			develop ??,develop ????????????????????,
			?? bug ?? bug,????? hotfix-bug#?Master
			?????????????,???? bug ??????
			master ?? checkout?
		</p>
		<p>
			?????? bug ??:
		</p>
		<table width=100%><td class=code><blockquote><code>
			git checkout -b fixbug-0.1 master
		</code></blockquote></td></table>
		<p>
			????:?????????? fixbug-(bug ??????),
			?? bug ???????????
		</p>
		<p>
			?????,??? master ??:
		</p>
		<table width=100%><td class=code><blockquote><pre><code><unindent>
			git checkout master
			git merge --no-ff fixbug-0.1
			git tag -a 0.1.1
		</unindent></code><pre></blockquote></td></table>
		<p>
			???? develop ??:
		</p>
		<table width=100%><td class=code><blockquote><pre><code><unindent>
			git checkout develop
			git merge --no-ff fixbug-0.1
		</unindent></code><pre></blockquote></td></table>
		<p>
			??,????? bug ???:
		</p>
		<table width=100%><td class=code><blockquote><code>
			git branch -d fixbug-0.1
		</code></blockquote></td></table>
		<h1 id="?">(?)</h1>
		</blockquote></div/*????*/>
		</e> drop
	</text>
	/*remove*/      \ ?????
	unindent 		\ handle all <unindent >..</unindent > sections
	<code>escape	\ convert "<>" to "&lt;&gt;" in code sections
	js: dictate(pop()) ;
	/// ???? js> $(".article")[0] removeElement


stop _stop_ ?????? #########################

    [x] 15:41 2017-10-13

        ? peforth ?,??? harry_port() ??? 
        Morvan\tutorials\tensorflowTUT\tf17_dropout\full_code.py ???? 
        ???(????)??????????,??????? peforth ?? 
        ???,?? GitHub Desktop ??????,?? revert ???????, 
        ?????? checkout ???????? git for dos (Ctrl+` ??) ???
        
        ??:
        1. GitHub Desktop (for Windows) ??? history ????? checkout ?
          (????)???????,???? checkout ? git for dos.
        2. git checkout ????,GitHub Desktop ??????????!
           git for dos ????,???? ?????????? id ?? 
           git checkout <commit id> ??????
        3. ?? git ???????????????????   
            

        C:\Users\hcche\Documents\GitHub\peforth>git status
        HEAD detached at 93d9b5c       /* [x] ???? checkout ????,??????! */
        nothing to commit, working tree clean   /* ==> git log ???,git log origin ??,shit!!! */

        C:\Users\hcche\Documents\GitHub\peforth>git log  /* [x] ?? log ?????????? Server ?? */
        commit 93d9b5c7849fc3cfd44a797df1140253946f683c (HEAD)  /* ==> ?! git log origin */ 
        Author: H.C. Chen <hcchen5600@gmail.com>
        Date:   Wed Oct 11 11:28:55 2017 +0800

            beginning of v1.09
            
        ... snip ...

        /* ?? comments ????,??? server ?????? pull ????? */
        /* ?????? */
        
        C:\Users\hcche\Documents\GitHub\peforth>git pull  /* git pull ?? */
        You are not currently on a branch.
        Please specify which branch you want to merge with.
        See git-pull(1) for details.

            git pull <remote> <branch>


        C:\Users\hcche\Documents\GitHub\peforth>git pull remote  /* ???? */
        fatal: 'remote' does not appear to be a git repository
        fatal: Could not read from remote repository.

        Please make sure you have the correct access rights
        and the repository exists.

        /* ?????? comment id ????? checkout ????? */
        
        C:\Users\hcche\Documents\GitHub\peforth>git checkout a6de1768c577815d30afac7cea4191bddc1d1499
        Previous HEAD position was 93d9b5c... beginning of v1.09
        HEAD is now at a6de176... harry_port developing

        C:\Users\hcche\Documents\GitHub\peforth>git status
        HEAD detached at a6de176
        nothing to commit, working tree clean

        C:\Users\hcche\Documents\GitHub\peforth>

        \ git log ?????? commit ???????,???????,?????

        C:\Users\hcche\Documents\GitHub\peforth>git log
        commit a6de1768c577815d30afac7cea4191bddc1d1499 (HEAD)
        Author: H.C. Chen <hcchen5600@gmail.com>
        Date:   Fri Oct 13 14:30:39 2017 +0800

            harry_port developing

        \ ??????,?? checkout ??????? id ???,? git lot origin 
        \ ??????
        
        C:\Users\hcche\Documents\GitHub\peforth>git log origin --pretty=oneline --abbrev-commit
        4a8b269 (origin/master, origin/HEAD, master) Revert "harry_port developing"
        ea9114c Revert "Merge branch 'master' of https://github.com/hcchengithub/peforth"
        a6de176 (HEAD) harry_port developing  <----- (HEAD) ?????????
        93d9b5c beginning of v1.09
        659ab44 Merge branch 'master' of https://github.com/hcchengithub/peforth
        de2d8c9 about to release v1.8
        86d5d8f Update README.md
        4f6d119 Update README.md
        ... snip .....
        [x] 'log-verbose' and 'log' are improved.
    